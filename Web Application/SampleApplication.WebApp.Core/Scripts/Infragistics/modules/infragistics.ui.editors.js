/*
* Infragistics.Web.ClientUI Editors localization resources 12.1.20121.1010
*
* Copyright (c) 2011-2012 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/
$.ig=$.ig||{};if(!$.ig.Editor){$.ig.Editor={locale:{spinUpperTitle:"Increment",spinLowerTitle:"Decrement",buttonTitle:"Show list",clearTitle:"Clear value",datePickerButtonTitle:"Show calendar"}};
/*
* Infragistics.Web.ClientUI Editors 12.1.20121.1010
*
* Copyright (c) 2011-2012 Infragistics Inc.
*
* http://www.infragistics.com/
*
* Depends on:
* jquery-1.4.4.js
* jquery.ui.core.js
* jquery.ui.widget.js
* jquery.ui.datepicker.js
* ig.util.js
*
* Example to use:
*	<script type="text/javascript">
*	$(function () {
*		$('#editor1').igEditor();
*	});
*	</script>
*	<input id="editor1" type="text" />
*/
}(function(a){var b=function(i,h){return i===null||i===undefined||(h&&typeof i==="number"&&isNaN(i))},c=function(i,h){if(isNaN(i=parseInt(i,10))){i=h||0}return i},e=function(h,i){var j=i?"Left":"Top",k=i?"Right":"Bottom";return c(h.css("padding"+j))+c(h.css("padding"+k))+c(h.css("border"+j+"Width"))+c(h.css("border"+k+"Width"))},g=function(h){return b(h)?"":h.toString()},d=function(){return new Date().getTime()},f=function(h){try{h.preventDefault();h.stopPropagation()}catch(i){}};a.ig=a.ig||{};a.widget("ui.igEditor",{options:{value:null,tabIndex:null,textMode:null,nullText:null,button:"none",buttonHidden:false,includeKeys:null,excludeKeys:null,textAlign:null,listItems:null,regional:null,theme:null,type:null,locale:null,width:null,height:null,validatorOptions:null,required:false,display:"inline-block",nullable:true,renderInContainer:false,toUpper:false,toLower:false,selectionOnFocus:-1,readOnly:false,maxLength:0,spinDelta:1,spinOnReadOnly:false,focusOnSpin:false,spinWrapAround:false,hideEnterKey:true,dropDownOnReadOnly:false,dropDownTriggers:"button,ctrl+arrow,alt+arrow",listMatchIgnoreCase:true,listMatchOnly:false,listMatchContains:false,listAutoComplete:false,listDropDownAsChild:false,listWidth:0,listMaxHeight:300,listColumns:1,animationShowDuration:200,animationHideDuration:200,inputName:null},events:{keydown:0,keypress:1,keyup:2,mousedown:3,mouseup:4,mousemove:5,mouseover:6,mouseleave:7,focus:8,blur:9,valueChanging:10,valueChanged:11,textChanged:12,invalidValue:13,spin:14,buttonClick:15,showDropDown:16,hideDropDown:17,listSelecting:18,listSelected:19},css:{editor:"ui-igedit ui-state-default ui-widget ui-corner-all",container:"ui-igedit-container",field:"ui-igedit-field",fieldRtl:"ui-igedit-rtl",textArea:"ui-igedit-textarea",hover:"ui-igedit-hover ui-state-hover",focus:"ui-igedit-focus ui-state-focus",buttonsImageStateOverride:"ui-igedit-buttonsimagestateoverride",disabled:"ui-igedit-disabled ui-state-disabled",negative:"ui-igedit-negative",nullValue:"ui-igedit-nullvalue",button:"ui-igedit-button",buttonRtl:"ui-igedit-button-rtl",buttonFocus:"ui-igedit-buttonfocus",buttonDefault:"ui-igedit-buttondefault ui-state-default",buttonHover:"ui-igedit-buttonhover ui-state-hover",buttonPressed:"ui-igedit-buttonpressed ui-state-highlight",buttonDisabled:"ui-igedit-buttondisabled ui-state-disabled",buttonImage:"ui-igedit-buttonimage ui-icon-triangle-1-s ui-icon",buttonClear:"ui-igedit-buttonclear",buttonClearImage:"ui-igedit-buttonimage ui-icon-circle-close ui-icon",buttonImageHover:"ui-igedit-buttonimagehover",buttonImagePressed:"ui-igedit-buttonimagepressed",buttonImageDisabled:"ui-igedit-buttonimagedisabled",spinButton:"ui-igedit-spinbutton",spinButtonImage:"ui-igedit-buttonimage ui-igedit-spinbuttonimage",spinLowerImage:"ui-igedit-spinlowerimage ui-icon-carat-1-s ui-icon",spinLowerImageHover:"ui-igedit-spinlowerimagehover",spinLowerImagePressed:"ui-igedit-spinlowerimagepressed",spinLowerImageDisabled:"ui-igedit-spinlowerimagedisabled",spinUpperImage:"ui-igedit-spinupperimage ui-icon-carat-1-n ui-icon",spinUpperImageHover:"ui-igedit-spinupperimagehover",spinUpperImagePressed:"ui-igedit-spinupperimagepressed",spinUpperImageDisabled:"ui-igedit-spinupperimagedisabled",dropDown:"ui-igedit-dropdown",list:"ui-igedit-list ui-widget ui-widget-content ui-corner-all",listItem:"ui-igedit-listitem ui-state-default",listItemHover:"ui-igedit-listitemhover ui-state-hover",listItemSelected:"ui-igedit-listitemselected ui-state-highlight",listItemColumnBorder:"ui-igedit-listitemcolumnborder",noTopCorners:"ui-igedit-no-top-corners",noBottomCorners:"ui-igedit-no-bottom-corners"},regional:a.ig._regional||{},_create:function(q){var r,s,i=this.css,j,k,h,p,n,m=this.options,l=this;q=this._doType(b(q)?m.type:q,s=m.value);this._listID=-1;p=m.theme;this._css=i.field;j=this._element=this._render(this.element,m,i);if(m.display){j.css("display",m.display)}if(q===3&&(!a.datepicker||this._ta)){throw new Error("The ui.igDatePicker depends on jquery.ui.datepicker and TEXTAREA/multiline is not supported")}if(this._ta){this._css+=" "+i.textArea}k=this._field;this._box=k[0].type==="checkbox";this._1e=k===j;if(m.readOnly){k[0].readOnly="readonly"}h=m.textAlign;if(!h&&q>3){h="right"}if(h){k.css("textAlign",h)}k[0]._id=-1;k[0].disabled=m.disabled;this._hover=this._mouseDown=0;this._fix=1;this._fcs=-1;this._bad=0;this._k0=this._sel0=0;this._noPaste=0;this._fixMode(1);this._clearHide=false;k.bind(l._evts={keydown:function(o){l._onEvt(o,0)},keypress:function(o){l._onEvt(o,1)},keyup:function(o){l._onEvt(o,2)},paste:function(o){l._onEvt(o,11)},beforecut:function(o){l._onEvt(o,11)},cut:function(o){l._onEvt(o,11)},drop:function(o){l._onEvt(o,11)},focus:function(o){l._onEvt(o,8)},blur:function(o){l._onEvt(o,9)}});r={mousedown:function(o){l._onEvt(o,3)},mouseup:function(o){l._onEvt(o,4)},mousemove:function(o){l._onEvt(o,5)},mouseover:function(o){l._onEvt(o,6)},mouseleave:function(o){l._onEvt(o,7)}};if(this._buttons&&this._buttons[1]){r.DOMMouseScroll=function(o){l._onEvt(o,10)};r.mousewheel=function(o){l._onEvt(o,10)}}j.bind(l._mEvts=r);this._fcs=0;r=m.maxLength;if(r&&r>0){k[0].maxLength=r}r=m._vsFormat;if(r&&s&&q>3&&(typeof s!=="number")){s=parseFloat(this._txtAsNum(s.toString(),r,"-"))}this._setVal(b(s)?this._value:s);if(this._val()===""){this._text=this._field[0].value=this._focTxt("",false,"")}this._fixCss();n=this._oldCss;s=m.height;if(!s&&!this._1e){s=n.height;if(s){s=(s.indexOf("px")>0)?c(s):this.element.height()}}this._height(s);if(this._box){this._fixBC(k,k)}s=m.width;if(!s&&!this._1e){s=n.width;if(s){s=(s.indexOf("px")>0)?c(s):this.element.width()}}if(this._selElem){delete n.width;delete n.height}this._width(s);this._lastText=this._val();this._initValidator();this._doClear(m.value)},_doType:function(h,i){if(h==="text"){h=0}if(h==="mask"){h=1}if(h==="date"){h=2}if(h==="datepicker"){h=3}if(h==="numeric"){h=4}if(h==="currency"){h=5}if(h==="percent"){h=6}if(typeof h!=="number"||h<0||h>6){if(typeof i==="number"){h=4}else{if(i&&i.getMonth){h=2}else{h=0}}}this._type=h;return h},_render:function(q,x,n){var D,w,B,p,u,m,A,z,s,y,t,l,k,j,E,v=q.css("direction")==="rtl",h=x.button,r=q,C=null;w=q[0].nodeName;B=q[0].parentNode;if(w){w=w.toUpperCase()}this._ta=w==="TEXTAREA";this._td=w==="TD";this._left=v;u=w==="INPUT";C=this._selElem=w==="SELECT";D=h&&h.indexOf("spin")>=0;l=h&&h.indexOf("clear")>=0;h=(h&&h.indexOf("dropdown")>=0)||(C&&!D);if(l||h||D){k=this._buttons=[]}m=k||x.renderInContainer||x.theme;A=this._oldCss={display:0};z=this._oldAttr={className:0,title:0};if(u){z.value=0}else{if(C){C=x.listItems;if(!C){x.listItems=[];C=q[0].options;s=C?C.length:0;if(s>0){while(s-->0){y=C[s].value;x.listItems[s]={value:y,text:b(t=C[s].text)?y:t}}this._listID=q[0].selectedIndex}C=1}}else{z.innerHTML=0}}if(u||this._ta){z.disabled=z.readOnly=z.alt=A.textAlign=0}for(s in A){if(A.hasOwnProperty(s)){A[s]=q.css(s)}}for(s in z){if(z.hasOwnProperty(s)){z[s]=q[0][s]}}A.width=q[0].style.width;A.height=q[0].style.height;if((s=u?z.value:(C?q.val():z.innerHTML))===x.nullText){s=""}if(!this._ta&&s){s=s.replace(/[\x09\x0a]/g,"")}this._value=s;if(u||this._ta||C){if(z.className){this._css+=" "+z.className}if(m){this._swap=true;q.css("display",C?"none":"");q=a("<span />");B.insertBefore(q[0],r[0]);if(C){r=a("<input />")}else{B.removeChild(r[0])}q.css("display",A.display)}else{this._css+=" "+n.editor;return(this._field=q)}}else{if(x.textMode==="textarea"||x.textMode==="multiline"){r=a("<textarea />");this._ta=1}else{r=a(x.textMode?'<input type="'+x.textMode+'"/>':"<input />")}q[0].innerHTML=""}q.addClass(n.editor+" "+n.container);if(x.theme){q.addClass(x.theme)}this._field=r;if(!b(s=x.tabIndex)){r[0].tabIndex=s}j=n.button+" "+n.buttonDefault;if(v){j+=" "+n.buttonRtl;this._css+=" "+n.fieldRtl}s=k?-1:6;E={touchstart:function(i){this._drag=null;f(i)},touchmove:function(i){this._drag=1;f(i)},touchend:function(){if(!this._drag){a(this).trigger("mousedown").trigger("mouseup")}}};while(s++<4){if((h&&s===0)||(l&&s===3)||(D&&(s===1||s===2))){if(s===0){p=[j,n.buttonHover,n.buttonPressed,n.buttonDisabled,n.buttonImage,n.buttonImageHover,n.buttonImagePressed,n.buttonImageDisabled];C="button"}else{if(s===1){p=[j+" "+n.spinButton,n.buttonHover,n.buttonPressed,n.buttonDisabled,n.spinButtonImage+" "+n.spinUpperImage,n.spinUpperImageHover,n.spinUpperImagePressed,n.spinUpperImageDisabled];C="spinUpper"}else{if(s===2){p=[j+" "+n.spinButton,n.buttonHover,n.buttonPressed,n.buttonDisabled,n.spinButtonImage+" "+n.spinLowerImage,n.spinLowerImageHover,n.spinLowerImagePressed,n.spinLowerImageDisabled];C="spinLower"}else{p=[j+" "+this.css.buttonClear,n.buttonHover,n.buttonPressed,n.buttonDisabled,n.buttonClearImage,n.buttonImageHover,n.buttonImagePressed,n.buttonImageDisabled];C="clear"}}}y=k[s]=a("<span />").addClass(p[0]).appendTo(q).bind(E);y[0]._css=p;y[0].longdesc=y[0].title=this._optVal(C+"Title",1);t=a("<span />").addClass(p[4]).appendTo(y);t[0]._id=s+5;y[0]._id=s+1}}r.appendTo(q);return q},_leftShift:function(){var k=0,h=this._buttons,j=(this._left&&h)?4:0;while(j-->0){if(h[j]){k+=h[j][0].offsetWidth}}return k},_val:function(){return this._box?this._field[0].checked:(this._nullT?"":this._field[0].value)},_fixNull:function(){var i,h=this.options.nullText;if(!h&&!this._nullT){return}i=this._val();this._nullT=null;if(i===""&&h&&this._fcs<2){this._nullT=true;this._field[0].value=h}this._fixCss()},_focTxt:function(k,i,h){var j=this.options.nullText;this._nullT=null;if(!i&&k===""&&j&&(!b(h)||this.options.readOnly)){k=j;this._nullT=true}return k},validate:function(h){return !this.options.validatorOptions||!this._doInvalid(null,h?2:1)},isValid:function(){return !this._doInvalid(null,9)},_doInvalid:function(k,m){if(!this._field){return}var j,n,r,t=this._val(),h=false,l=1,p=this._invPlus,q=this.options,s=this._type;this._inv=null;if(q.required&&(!t||(s===1&&!this.getValueByMode(0,"",1)))){p=1}else{if(s===0){if(!q.nullable&&!t){p=1}}else{if(s===1){t=this._txt;n=t.length;while(n-->0&&!p){j=t.charCodeAt(n);if(j<21&&(j%2)===1){p={value:t=this._getVal(),message:this._optVal("mask",2)}}}}else{if(s<4){t=this._toDate(t,k==="",true,true);p=this._inv}else{t=this._toNum(t,true,true);p=this._inv;l=this._prop(7);if(p&&t&&l>1){r=t;p.value=(t/=l)}}}}}if(p===1){p={value:t=null,message:this._optVal("required",2)}}if(typeof p==="string"){p={value:t,message:p}}if(m===9){return p}if(p){h=this._fire(13,null,p);if(t!==p.value){t=p.value;p=null}if(r){if(p){t=r}else{if(b(t,1)){t=null}else{if(t){t*=l}}}}if(s<=1&&!p){this._setVal(t);return}}if(s>1&&s<4){this._isNull=b(t);if(!this._isNull){this._date=t}if(t&&q.useLastGoodDate){this._goodD=t}}this._value=t;if(m&&!h&&!this._setOpt){return this._doError(m,null,p?p.message:null)}},_focusTxt:function(k,i,p){var j=i,n="",l=this.options,q=this._type,h=null,m="";if(q===1){p=null;if(!b(i)&&!k){i=i!=="";if(i&&this._bad!==0){this._txt=this._setTxt(this._val(),5,true)}p=this._txt;if(!i){this._doInvalid(j)}}n=this._getTxt(k?5:4,k?l.promptChar:l.padChar,p)}else{if(q===2||q===3){if(b(p)){m=l.promptChar;if(b(i)&&k){return this._getTxt(5,m)}if(!b(i)&&!k){this._doInvalid(i);h=this._value}else{if(!this._isNull){h=this._date}}}else{h=this._toDate(p,k,true)}n=this._toTxt(h,k,m,!b(i))}else{if(q>3){if(!b(i)&&!k){this._doInvalid()}n=this._toTxtNum(this._value,k)}else{n=this._val();if(!b(i)&&!k){this._doInvalid(i)}}}}return this._focTxt(n,k,i)},_repaint:function(){if(this._val()!==this._text){this._field[0].value=this._text}},_instant:function(k,i,h){var m,l=this._type,j=this._dataMode;if(this._box){return this._val()}if(l===1){return this.getValueByMode(j,k,i)}if(l===2||l===3){return this.getValueByMode(k?0:j,i)}if(l>3){m=this._toNum(this._val(),i);if(m&&(i||h)&&!isNaN(m)&&j>0){m/=this._prop(7)}return(k||j>0)?m:this._toTxtNum(m,j===0)}return this._val()},_optVal:function(i,h){var k=this._validator,j=this.options;if(h===2){return k?k._loc(i):""}if(!b(k=j[i])){return k}if(h===3||h===1){if(h===1&&this._type===3){i="datePickerButtonTitle"}k=j.locale?j.locale[i]:null;return k||(a.ig&&a.ig.Editor&&a.ig.Editor.locale?a.ig.Editor.locale[i]:null)||""}j=j.regional;if(typeof j==="string"){j=a.ig.regional[j]}if(!j||b(k=j[i])){k=a.ig.regional.defaults[i]}return b(k)?this.regional[i]:k},_setOption:function(k,r){var q,n=r,i=null,m=this.options,l=k==="locale",p=k==="regional",h=this._buttons,j=this._field;if(m[k]===r||k==="textMode"){return this}if(k==="buttonHidden"){this._butVis(null,r);return this}if(k==="theme"){if(this._1e){return this}for(q=0;q<3;q++){if(h&&h[q]){h[q].css("height","")}}if(m.theme){this._element.removeClass(m.theme)}if(r){this._element.addClass(r)}this._listRemove();this._height(m.height);this._width(m.width)}if(k==="inputMask"&&this._type===1){n=this.getValueByMode(0," ",1);this._setMask(r);this._setTxt(n,0)}m[k]=r;if(p&&this._dp){i=this._dpRegion();if(i){this._dpOption(m.datepickerOptions=a.extend(m.datepickerOptions,i))}}q="buttonTitle";if((l||k===q)&&h&&h[0]){h[0][0].title=this._optVal(q,1)}q="spinUpperTitle";if((l||k===q)&&h&&h[1]){h[1][0].title=this._optVal(q,3)}q="spinLowerTitle";if((l||k===q)&&h&&h[2]){h[2][0].title=this._optVal(q,3)}q="clearTitle";if((l||k===q)&&h&&h[3]){h[3][0].title=this._optVal(q,3)}if(k==="disabled"){j[0].disabled=r;this._fixCss()}if(k==="display"){this._element.css(k,r)}if(k==="textAlign"){j.css(k,r)}if(k==="readOnly"){j[0].readOnly=r?"readonly":""}if(k==="maxLength"||k==="tabIndex"){j[0][k]=r}if(k==="value"){this.value(r)}if(k==="width"){this._width(r)}if(k==="height"){this._height(r)}if(k==="validatorOptions"||k==="required"){this._initValidator()}if(k==="nullText"){this._fixNull()}if(k==="type"){this._doType(r);p=3}k=k.toLowerCase();q=k.indexOf("minv")===0?1:(k.indexOf("maxv")===0?2:(k.indexOf("maxd")>=0||k.indexOf("mind")>=0?-1:0));if(k.indexOf("list")===0){this._listRemove()}else{if(k.indexOf("an")===0){if(this._dp&&k.indexOf("show")>7){this._dpOption((k.indexOf("eff")>7)?"showAnim":"duration",r)}}else{if(k.indexOf("kero")>0){if(this._dp){this._dpOption(r)}}else{if(k.indexOf("data")>=0||q||p||!b(this.regional[k])||k.indexOf("date")===0||k.indexOf("pat")>=0||k.indexOf("roup")>0||k.indexOf("sep")>=0||k.indexOf("ymb")>0){if(q>0&&this._dp){i=a.data(j[0],"datepicker");if(i){i.settings[q===1?"minDate":"maxDate"]=null}}this._setOpt=true;this._listRemove();this._fixMode((p===3)?3:0);this._repaint();this._lastText=this._val();this._setOpt=null}}}}return this},_dpRegion:function(){var h=this.options.regional;return(a.datepicker&&typeof h==="string")?a.datepicker.regional[(h==="defaults"||h==="en-US")?"":h]:null},_dpOption:function(j,i){var h=this._getVal(1);if(j&&j.changeYear&&a.browser.opera){j.changeYear=false}this._field.datepicker("option",j,i);this._setVal(h)},getRegionalOption:function(h){return this._optVal(h)},field:function(){return this._field},mainElement:function(){return this._element},dropDownElement:function(){var h=this._ddList;if(this._type===3){h=a.datepicker;if(h){h=(h._ig_dp===this)?h.dpDiv:null}}return h||null},show:function(){return this._vis(true)},hide:function(){return this._vis()},remove:function(){var i,h=this._element;i=(h&&h[0])?h[0].parentNode:null;if(i&&i.tagName){this._doError();this._doDrop();this._stopTimer();this._hadFocus=a.ui.igEditor._keepFoc=null;this._noPaste=this._fcs=this._k0=this._hover=this._mouseDown=0;this._fixCss();i.removeChild(h[0])}return this},dropDownVisible:function(h){if(!arguments.length){return !!this._ddOn}if(!h){this._doDrop()}else{if(!this._ddOn){this._doDrop(1)}}return this},findListItemIndex:function(l,i,k,h){var j=this._find(g(l),0,1,i,k,h);return j?j.id:-1},addListItems:function(i,h){return this._listChange(i,h,2)},addListItem:function(i,h){return this._listChange([i],h,2)},removeListItem:function(h){return this._listChange(h,-1,1)},removeListItemAt:function(h){return this._listChange(null,h,1)},clearListItems:function(){return this._listChange(null,-1,0)},selectedListIndex:function(h){if(!arguments.length){return this._listID}this._listSelect(h)},getSelectedListItem:function(){var i=this.options.listItems,h=this._listID;return(i&&h>=0)?i[h]:null},hasInvalidMessage:function(){return this._validator?this._validator.isMessageDisplayed():false},validator:function(){return this._validator||null},text:function(i,h){if(!arguments.length){return this._val()}if(this._type>0){this._sTxt=1;if(this._type===1){this._setTxt(i,b(h)?5:(1000+h))}else{this._setVal(i,true)}this._sTxt=0}else{if(i){this._nullT=null}this._text=i;this._repaint()}if(this._fix===1){this._old=this._instant(1,null,1)}return this},value:function(h){if(!arguments.length){h=this._getVal();if(h&&h.getTime&&this.options._utc){h=new Date(h.getTime()+h.getTimezoneOffset()*60000)}return(h===undefined)?null:h}this._setVal(h,true);this._lastText=this._val();return this},_getVal:function(h){var i=this.options,j=this._instant(h,1);if(this._type>3){if(b(j)){j=i.nullValue;if(this._dataMode<=0){return g(j)}return(i.nullable||!b(j))?j:NaN}}return j},_set_val:function(i,h){this._fix=0;this._setVal(i,h);this._fix=1},_setVal:function(l,i){var j,h,k=this._type;if(this._box){if(l!==true){l=l==="true"}this._field[0].checked=l}else{if(k===1){this._setTxt(g(l),this._dataMode)}else{if(k===2||k===3){if(!b(l)&&!l.getTime){l=i=this._toDate(l=l.toString(),this._dataMode<2)||this._toDate(l,true)}i=l;if(b(l=this._limits(l))){l=i}this._txt=this._mask;this._isNull=b(l);if(!this._isNull){this._toTxt(l,true,"",true)}else{l=new Date()}this._date=l;if(this.options.useLastGoodDate){this._goodD=l}this._text=this._focusTxt(this._fcs>1);this._repaint()}else{if(k>3){if(b(l,1)){l=null}if(l&&typeof l==="number"&&this._fix!==0){l*=this._prop(7)}j=this._toTxtNum(l=this._toNum(l,true),this._fcs===2);h=this._prop(12);if(i===2&&h>0&&j.length>h){return}this._focTxt(j);this._text=j;this._value=l;this._repaint()}else{this.text(g(l))}}}}if(this._fix===1&&k>0){this._old=this._instant(1,null,1)}j=this.options.value=this._getVal();this._doClear(j);this._fixNull();this._dtt();this._fixList(j)},_fixList:function(l){var h=-1,k=this.options.listItems,j=k?k.length:0;if(j<1||!this._fix||b(this._lastText)){return}if(!b(l)){while(++h<j){if(k[h]===l){break}}if(h>=j){k=this._findItem(this._val(),-1);h=k?k.id:-1}}this._listSelect(h)},_doClear:function(h){if(this._buttons&&this._buttons[3]){this._butVis(!h||(this._type<4&&!this.getValueByMode(0,h)))}},_vis:function(i){var h=this._element;h.css("display",i?this.options.display:"none");this._fixHeight();this._doError();return this},_elemWidth:function(h,i){if(h&&i>1&&h[0]._wd!==i){h[0]._wd=i;i=Math.max(1,i-e(h,1));h.css("width",i);return true}},_elemHeight:function(i,j,h){if(i&&j>1&&i[0]._ht!==j){i[0]._ht=j;j=Math.max(1,j-e(i));i.css("height",j);if(h){i.find("SPAN").css("marginTop",Math.floor((j-16)/2))}}},_fixSize:function(){var j=this.options,h=this._element,k=h?h[0].offsetWidth:0,i=h?h[0].offsetHeight:0;if(k||i){if(this._oWidth!==k){this._fixWidth(!this._oWidth&&!j.width)}if(this._oHeight!==i){this._fixHeight(!this._oHeight&&!j.height)}this._oWidth=k;this._oHeight=i}this._doTimer()},_doTimer:function(){var h=this,j=h._timer1,i=h._heightOk&&!h._heightPerc&&h._widthOk&&!h._widthPerc;if(i&&j){clearInterval(j);delete h._timer1}else{if(!j){h._timer1=setInterval(function(){h._fixSize()},200)}}},_fixHeight:function(n){if(this._1e||(this._heightOk&&!this._heightPerc)){return 1}var k=this._field,j=this._element,m=4,l=(this._td||n)?0:Math.max(j[0].offsetHeight-e(j),0),h=this._buttons;l=l||k[0].offsetHeight;if(l>1){if(this._heightPerc){l++}this._elemHeight(k,l);if(h){while(m-->0){this._elemHeight(h[m],l,1)}}this._heightOk=1}this._doTimer()},_fixWidth:function(u){if(this._1e||(this._widthOk&&!this._widthPerc)){return 1}var s,p,h,n=this._field,l=this._clearHide,k=this.options.buttonHidden,m=this._element,o=4,t=(this._td||u)?0:Math.max(m[0].offsetWidth-e(m,1),0),r=t,q=3,j=this._buttons;t=t||n[0].offsetWidth;if(t>0){if(j){u=(this._td||u)?Math.max(t,100):0;t=u||t;if(this._widthPerc||this._td){t--}while(o-->0){h=j[o];if(h){if((o===0&&k)||(o===3&&l)){h.show()}h[0]._w=s=h[0].offsetWidth;if(u&&!p){t-=s;p=u=u-s}t-=s;if(t<q&&!u){r+=q-t;p=t=q}}}if(u||p){m.css("width",u||(r+q))}}if(this._elemWidth(n,this._wF=t)){this._listRemove()}s=j?Math.min(t,9):0;while(s-->1){p=n[0].offsetLeft;for(o=0;o<4;o++){if(j[o]&&j[o][0].offsetLeft===p){this._elemWidth(n,--this._wF);break}}}this._widthOk=1;this._butVis(l,k)}this._doTimer()},_butVis:function(k,l){var h,n=-1,p=this.options,q=this._wF,j=this._buttons,m=this._field;if(b(k)){h=1;k=this._clearHide}if(b(l)){h=1;l=p.buttonHidden}if(!j||(h&&k===this._clearHide&&l===p.buttonHidden)){return}p.buttonHidden=l;this._clearHide=k;while(++n<2){h=j[n*3];if(h){if((!n&&l)||(n&&k)){h.hide();q+=h[0]._w}else{h.show()}}}this._elemWidth(m,q)},_width:function(n){var k=this._field,j=(this._1e||this._td)?k:this._element,h=this._buttons,l=h?4:0,m=c(n);if(this._widthOk){delete this._widthOk;delete this._widthPerc;j[0]._wd=null;k[0]._wd=null;j.css("width","");k.css("width","");while(l-->0){if(h[l]){h[l][0]._wd=null;h[l].css("width","")}}}if(n){if(n.indexOf&&n.indexOf("px")<0&&n!==m.toString()){j.css("width",n);this._widthPerc=!this._td&&n.indexOf("%")>0}else{this._elemWidth(j,m)}}this._fixWidth(!n)},_height:function(l){var k=this._field,j=(this._1e||this._td)?k:this._element,h=this._buttons,m=h?4:0,n=c(l);if(this._heightOk){delete this._heightOk;delete this._heightPerc;j[0]._ht=null;k[0]._ht=null;j.css("height","");k.css("height","");while(m-->0){if(h[m]){h[m][0]._ht=null;h[m].css("height","")}}}if(l){if(l.indexOf&&l.indexOf("px")<0&&l!==n.toString()){j.css("height",l);this._heightPerc=!this._td&&l.indexOf("%")>0}else{this._elemHeight(j,n)}}this._fixHeight(!l)},_spin:function(h){var l,i,m,j=this._nullT,k=this.options;if(this._box){return}if(this._fcs<1&&k.focusOnSpin){this.setFocus();if(this._fcs<1){this._focSpin=h;return}}if(this._fire(14,null,h)){return}if(j){this._nullT=null;this._fixCss()}m=this._val();this.spin(h);if(this._val()===m){if(j){this._nullT=j;this._fixCss();return}if(this._type>3&&k.spinWrapAround&&!b(this._prop(10))&&!b(this._prop(11))){l=this._sel0;i=this._prop(7);if(!i){i=1}h=this._limits(this._getVal(true)*i,true);this._setVal(h/i,this._fcs);this.select(l)}}if(this._val()!==m){this._fire(12)}},_item:function(h){if(h&&!b(h.text)){h=h.text}if(typeof h==="function"){h=h()}return b(h)?"":h},_spinList:function(h){var n,i,m,j,k,l=this.options;k=l.listItems;j=k?k.length:0;if(j<1){return 1}h=(h<0)?1:-1;i=this._listID+h;m=l.spinWrapAround;if(i>=j){if(!m){return}i=0}if(i<0){if(!m){return}i=j-1}n=this._instant(1,null,1);if(n===this._item(k[i])){if((i+=h)<0){if(!m){return}i=j-1}if(i>=j){if(!m){return}i=0}}n=this._item(k[i]);if(!this._listSelect(i)){delete this._lastY;this._set_val(n)}},_doKey:function(q,i,A,r,y,z,h,n){var t,p,j,x,m,v,l,w,s,o,u=this._prop(12),B=this._type;if(B>0&&B<4){s=this._mask;r=s?s.length:0;if(r<1||q<7||(q>8&&q<32)){q=0}if(h){if(q===0||!(s.indexOf(i)>0||this._optVal("am").indexOf(i)>=0||this._optVal("pm").indexOf(i)>=0||(q>=48&&q<=57))){f(n)}return}if(q===0){return}A=this._txt;if(y!==z){while(--z>=y){A=A.substring(0,z)+s.charAt(z)+A.substring(z+1)}z++}else{if(q===7){while(z<r&&s.charCodeAt(z)>=22){z++}if(z>=r){return}A=A.substring(0,z)+s.charAt(z)+A.substring(z+1);z++}else{if(q===8){while(z>0&&s.charCodeAt(z-1)>=22){z--}if(z--<1){return}A=A.substring(0,z)+s.charAt(z)+A.substring(z+1)}}}if(q>8&&z<r){if(z>=r){return}if((y=this._maskKey(q,i,A,r,z,s))>=0){A=this._txt;z=y}else{if(y===-1){return}while(s.charCodeAt(z)>=22){if(++z>=r){return}}if(b(i=this._maskFilter(s.charCodeAt(z),i,0))){return}A=A.substring(0,z)+i+A.substring(z+1);z++}}this._txt=A;this._selKey=z;A=this._focusTxt(true);this.select(this._selKey,0,A);this._selKey=99999;this._listSelect(-1);return}if(B>3){l=this._prop(4);w=this._isMinus(q);j=q>=48&&q<=57;if(w&&y===0){v=this._prop(10);if(!b(v)&&v>=0){return f(n)}}if(h){if(!(q<9||w||j||q===l.charCodeAt(0))){f(n)}return}if(y!==z){A=A.substring(0,y)+A.substring(z);z=y;r=A.length}else{if(q===7){if(z++>=r||r<1){return}}else{if(q===8){if(y--<1){return}}}}if(q<9||u===0||u>r){m=q===l.charCodeAt(0);p=A.indexOf(l);t=this._prop(8);x=j||(y===0&&w)||(m&&t>0);o=this._ePow();s=o?A.indexOf(o):-1;if(o&&y>0){if((q===69||q===101)&&s<0){x=i=o}if(m&&s>=0&&s<y){x=false}}if(s<0&&j&&p>=0&&y>p&&p+t<r){if(y===r){x=false}else{A=A.substring(0,--r)}}if(y>0&&w&&A.charAt(y-1).toUpperCase()==="E"&&A.substring(y-1).indexOf("-")<0){x=true}if(r>0&&y===0){if(this._isMinus(A.charCodeAt(0))){x=false}}if(q>8&&!x){return}if(m){if(p>=0){if(p===y||p===y-1){return}r--;if(p<y){y=--z}A=A.substring(0,p)+A.substring(p+1)}if(s<0&&y+t<r){A=A.substring(0,r=y+t)}}if(q>8&&z>=r){A+=i}else{A=A.substring(0,y)+i+A.substring(z)}}else{q=0}this.select((q>10)?z+1:y,0,A);this._listSelect(-1);return}if(y!==z){A=A.substring(0,y)+A.substring(z);z=y;r=A.length}else{if(q===7){if(z++>=r||r===0){return}if(this._ta&&A.charCodeAt(z-1)===13&&A.charCodeAt(z)===10){z++}}else{if(q===8){if(y--<1){return}if(this._ta&&A.charCodeAt(y)===10&&A.charCodeAt(y-1)===13){y--}}}}if(q<9||u===0||u>r){if(q>8&&z>=r){A+=i}else{A=A.substring(0,y)+i+A.substring(z)}}else{q=0}this._matchList(A,q,(q>10)?z+1:y)},_matchList:function(k,i,j){var h;if(this._type>0||(i<0&&!this.options.listAutoComplete)){return k}h=this._findItem(k,i,j);if(!h){return null}this._listSelect(h.id);k=h.text;if(i>=0){this.select(h.sel,0,k)}else{this._field[0].value=k}return k},_findItem:function(k,h,j){var i=this.options;return this._find(k,h,i.listMatchOnly,i.listMatchIgnoreCase,true,i.listMatchContains,j)},_find:function(z,o,s,t,v,h,w){var m,A,u,l=null,j=-1,q=0,x=0,k=-1,y=z,p=z.length,n=this.options.listItems,r=o>=0&&s;if(p>0&&n&&(r||o<0)){u=r=-1;A=t;if(A){y=y.toUpperCase()}while(++j<n.length){if(b(m=this._item(n[j]))){continue}m=m.toString();if(A){m=m.toUpperCase()}if((x=m.indexOf(y))===0){if(m===y){r=j;break}q++;if(u<0){u=j}}else{if(x>0&&h){if(!l){l={i:j,shift:x}}q++}}}x=0;if(u<0&&l){u=l.i;x=l.shift}if(r<0){if(!v){return null}if(o<0){r=u}else{if(u<0){return(o>10&&p===w)?null:this._find(z.substring(0,--p),o,s,t,h,w)}else{if(o>10&&q===1){r=u}else{z=this._item(n[u]).toString().substring(0,p+x)}}}}if(r>=0){z=this._item(n[r]).toString();if(r===u){w=z.length}}k=(r>=0)?r:u}return{text:z,id:k,sel:(b(w,1)?p:w)+x}},_undo:function(i){var h,j=this._old;if(i){if(!this._canRedo){return}j=this._redo;this._canRedo=false}else{h=this._instant(1,null,1);if(h===j){return}this._canRedo=true;this._redo=h}this._set_val(j);this._text=this._focusTxt(false);this._doError(1,this._evt)},_doKey0:function(l,h){var j,v,q,m,n,i=this._validator,r=this,t=this._text,u=this._val(),p=this._key,s=this.options;if(!this._field){return}if(!l){if(t!==u){this.paste(u)}return}if(h===1&&p===192&&l.altKey&&!l.ctrlKey){return}if(this._type>0&&a.browser.opera&&p>41&&p<48){if(h===0){this._noKey=p}else{if(this._noKey===p){f(l)}}}if(h!==1){this._noPaste=2-h}else{if(this._noPaste!==2){this._noPaste=1}}if(p===9){this._k0=(h===2)?0:9;if(h===0&&i&&i._lbl){i._onTab(l)}}if(p===0||(p===114&&h!==1)||p===9){return}if(this._bad>2){if(h===0){this._bad=2}if(h===2){this._bad-=3}}if(h===0&&p===229){if(t!==u){this._bad=2}else{this._bad+=3}}if(p===13&&this._k0===229&&this._type===1){this._txt=this._setTxt(this._val(),5,true)}if(h===0&&l.ctrlKey&&!l.altKey&&(p===90||p===89)){this._undo(p===89);return}if(this._bad===2||(h===1&&l.ctrlKey)){return}if(h===0&&!l.ctrlKey&&!l.altKey&&!l.shiftKey){if(this._listKey(l,p)){this._kBad=p;return f(l)}}if(this._box){return}if(h===1&&p===this._kBad){return f(l)}this._kBad=null;if(h===0&&((l.ctrlKey&&(p===86||p===88))||(l.shiftKey&&p===45))){setTimeout(function(){r._doKey0()},1)}if(h!==1&&(l.ctrlKey||l.altKey||p===17)){if(l.altKey){this._k0=-1}else{if(t!==u&&(p===86||(p===17&&h===2))){this.paste(u);this._noPaste=1}else{if(p===17){this.getSelectedText()}}}return}if(h===0){this._k0=p}if(h===2){if(this._k0>0){this._k0=0}this._spinField=-1}q=u.length;i=this._bad!==0;if(p<=46){switch(p){case 8:case 46:if(this._k0===p&&h===1){h=2}if(h===0){h=1;if(p===46){p=7}}break;case 27:f(l);if(h===0){this._undo();if(!this._escFix){this._escTxt=this._field[0].value}}else{if(this._escFix&&this._escTxt!==u&&!b(this._escTxt)){this._field[0].value=this._escTxt;delete this._escTxt}if(h===1){this._escFix=1}else{delete this._escFix}}return;case 13:if((s.hideEnterKey&&(!this._ta||!l.shiftKey))||(this._type>0&&this._ta&&l.shiftKey)){f(l)}return;case 38:case 40:if(this._ta){break}if(h===0&&!l.shiftKey){this._spin((p===38)?s.spinDelta:-s.spinDelta)}if(this._k0===p){h=2}break}}if(h===1&&p===this._k0&&((p<48&&p>9&&p!==32)||p>90)){return}if(!i){if(h!==0&&p!==9){f(l)}if(h===1&&this._k0===-1){this._k0=0;this.getSelectedText()}if(h===0||p<9){this.getSelectedText()}}if(h===1&&p>6){if(p>31){if(this._fire(1,l)){if(i){f(l)}return}p=this._key;m=s.excludeKeys;n=s.includeKeys;if(s.toUpper||s.toLower||m||n){j=String.fromCharCode(p);v=j.toUpperCase();if((m&&m.toUpperCase().indexOf(v)>=0)||(n&&n.toUpperCase().indexOf(v)<0)){return f(l)}if(s.toUpper){p=v.charCodeAt(0)}else{if(s.toLower){p=j.toLowerCase().charCodeAt(0)}}this._key=p}}this._doKey(p,(p<10)?"":String.fromCharCode(p),u,q,this._sel0,this._sel1,i,l)}},paste:function(k,h){var j,i=this.options;if((this._nullT&&!h)||this._noPaste===1){return this}j=this._prop(12);if(j>0&&j<k.length){k=k.substring(0,j)}j=i.includeKeys;if(j){j=j.toUpperCase().replace(/\[/gm,"\\[").replace(/\]/gm,"\\]").replace(/\^/gm,"\\^").replace(/\-/gm,"\\-");k=k.replace(new RegExp("[^"+j+"]","igm"),"")}j=i.excludeKeys;if(j){j=j.toUpperCase().replace(/\[/gm,"\\[").replace(/\]/gm,"\\]").replace(/\^/gm,"\\^").replace(/\-/gm,"\\-");k=k.replace(new RegExp("["+j+"]","igm"),"")}if(i.toUpper){k=k.toUpperCase()}else{if(i.toLower){k=k.toLowerCase()}}if(b(k=this._matchList(k,0))){k=this._text}this._text="";this._fix=0;this.text(k,h?null:this._sel0);this._fix=1;this._fire(12);return this},_touch:function(i){var j,h=this._ddList;if(h&&h.igScroll){j=h.data("igScroll");if(!i){return j?j.barY:h.igScroll({direction:"y",yThumb:"draggable",yScroller:this._ddScroll}).attr("data-scroll","y")}if(j){j.destroy()}}},_fixCss:function(){var j,t,n,l,q=this._element,v=this._hoverOld,s=this._hover,p=this._mouseDown,r=this._fcs>0,u=this.options,m=this._ddList,k=this._css,h="";if(!this._field){return}n=u.disabled;l=this.css;if(r){q.addClass(l.focus)}else{q.removeClass(l.focus)}if(s){q.addClass(l.hover)}else{q.removeClass(l.hover)}this._hoverOld=s;if(!v||v===s){v=0}if(v>99){if(!m){return}this._listCss(m,v,l.listItemHover)}if(s>99&&!this._touch()){this._listCss(m,s,l.listItemHover,1)}if(n){k+=" "+l.disabled}if(this._nullT){k+=" "+l.nullValue}if(this._type>3&&l.negative&&!this._nullT){if(this._instant(1)<0){k+=" "+l.negative}}this._setCss(this._field,k);t=this._buttons?4:0;while(t-->0){j=this._buttons[t];if(!j){continue}l=j[0]._css;k=l[0];if(n){k+=" "+l[3]}if(s===t+1){k+=" "+l[1]}if(r){k+=" "+this.css.buttonFocus}if(p===t+1){k+=" "+l[2]}this._setCss(j,k+h);k=l[4];if(n){k+=" "+l[7]}if(p===t+1){k+=" "+l[6]}else{if(s===t+1){k+=" "+l[5]}else{if(s||r){k+=" "+this.css.buttonsImageStateOverride}}}this._setCss(j.find("SPAN"),k)}},_setCss:function(j,h){var i=j[0].className,k=j[0]._ig_oldCss;j[0]._ig_oldCss=h;if(h===k){return}if(k&&i&&k!==i&&i.indexOf(k)>=0){i=i.replace(k,"");h+=((i.charAt(0)!==" ")?" ":"")+i}j[0].className=h},_enterTxt:function(){var h,i=this._type;if(i===1){return this._getTxt(this._dataMode,"")}if(i===2||i===3){h=this._toDate(this._val(),true);return b(h)?"":this._toTxt(h,true,"")}if(i>3){return this._toTxtNum(null,true,this._val(),"-",".")}return this._val()},_update:function(){var i,h=this._old;if(this._lock){return}this._lock=true;this._text=this._focusTxt(false,(this._fcs===2||this._hadFocus)?"":null);i=this._instant(1,null,1);if(!b(i)&&!b(h)){if(i.getTime&&i.getTime()===h.getTime()){i=h}}if(i!==h||this._bad===2){this._val10=i;if(this._fire(10,null,i,h)){this._set_val(h);this._text=this._focusTxt(false)}else{if(i!==this._val10){this._setVal(this._val10)}this._repaint();this.options.value=i=this._instant(1,null,1);this._fire(11,null,i,h);if(this._k0!==13){this._old=i}this._dtt()}}this._lock=false},_dropTrigger:function(j,l){var m,i,h,n=this.options,p=this._ddOn;h=n.dropDownTriggers;if(l===0||!h||(n.readOnly&&!n.dropDownOnReadOnly)||(l===-2&&h.indexOf("button")<0)||(l===-1&&h.indexOf("focus")<0)){return}if(((l===38&&!p)||(l===40&&p))){return}if(l>0){i=(l===38||l===40)?"arrow":String.fromCharCode(l);if(j.ctrlKey){i="ctrl+"+i}else{if(j.altKey){i="alt+"+i}else{if(j.shiftKey){i="shift+"+i}}}m=i.length;i=h.indexOf(i);if(i<0||(i>0&&h.charAt(i-1)!==",")||(i+m<h.length&&h.charAt(i+m)!==",")){return}}if(!p||l!==-1||d()-p>900){return this._doDrop(1,j)}},_doDP:function(h,n){var m,p,i,j,k,l=this.options;if(this._type!==3){return}if(!this._dp&&h!==1){return 1}if(n){this._set_val(n);this._fire(12)}i=a.datepicker;j=this._field[0];k=j.id;if(!i._old_selectDay){i._old_selectDay=i._selectDay;i._old_parseDate=i.parseDate;i._old_updateDatepicker=i._updateDatepicker;i._old_checkOffset=i._checkOffset;i.dpDiv.bind("mousedown",function(q){var o=a.datepicker._ig_dp;if(o){if(q.target&&q.target.nodeName==="SELECT"&&!a.browser.mozilla){o._ddmd=d()}else{f(q)}}});i._selectDay=function(o,r,t,s){var q=this._ig_dp;if(!q){return this._old_selectDay(o,r,t,s)}o=a("a",s).html()||s.firstChild.innerHTML;q._doDrop(0,{type:"mousedown"},[t,r,c(o)],1)};i._updateDatepicker=function(o){if(this._ig_dp){this.dpDiv.addClass(this._ig_css=this._ig_dp.css.dropDown)}else{if(this._ig_css){this.dpDiv.removeClass(this._ig_css);delete this._ig_css}}this._old_updateDatepicker(o);if(this._ig_dp){this.dpDiv.find("*").attr("unselectable","on")}};i.parseDate=function(o,q,r){return this._ig_dp?this._ig_dp._getVal(1):this._old_parseDate(o,q,r)};i._checkOffset=function(o,s,q){var r=this._ig_dp;s=this._old_checkOffset(o,s,q);if(r){s.left-=r._leftShift()}return s}}if(h===1){if(k.length<1){k=this.element[0].id+"_ig_dp_id";while(document.getElementById(k)){k+=Math.floor(Math.random()*10)}j.id=k}if(!this._dp){m=a.extend(l.datepickerOptions,this._dpRegion())||{};p=l.animationShowDuration;if(p){m.duration=p}p=l.animationShowEffect;if(p){m.showAnim=p}m.showOn="";m.onClose=function(){var o=i._ig_dp;if(o){o._dpClosed=1;o._doDrop();delete o._dpClosed;delete i._ig_dp}};this._dp=a(j).datepicker(m)}m=a.data(j,"datepicker").settings;m.minDate=m.minDate||l.minValue;m.maxDate=m.maxDate||l.maxValue;if(a.browser.opera){m.changeYear=false}i._ig_dp=this;this._css+=" "+a.datepicker.markerClassName;if(this._fcs<1){this.setFocus(-1)}i._showDatepicker(j)}else{if(h===2){i._doKeyUp({target:j})}else{if(!this._dpClosed){i._hideDatepicker(j)}if(h===3){i._destroyDatepicker(j)}}}return 1},_fixBC:function(i,h){i=i.css("backgroundColor");h.css("backgroundColor",(!i||i==="transparent"||i.replace(/ /g,"").indexOf("(0,0,0,0")>0)?"white":i)},_xyCheck:function(h){var i=this._xy,j=this._swap?this._field:this._element;if(!i){return}if(j){j=j.offset();if(Math.abs(j.left-i.x)>2||Math.abs(j.top-i.y)>2){h=true}}if(h||!j){delete this._xy;clearInterval(i.i);this._doDrop()}},_doDrop:function(h,t,M,s){var l,Q,B,z,N,C,S,j,K,n,p,L,r,m,G,x,v,R,u,P,q,w,k,F,E,A,J=this._ddParent,D=-1,O=M,H=this,I=this.options;E=I.listItems;h=(h===1)?!this._ddOn:false;if(!h&&!this._ddOn&&!s){return}F=E?E.length:0;if(this._type===3){if(M&&!isNaN(M[2])){O=this._getVal(1);if(!O){O=new Date(M[0],M[1],M[2])}else{O.setDate(10);O.setFullYear(M[0]);O.setMonth(M[1]);O.setDate(M[2])}}}else{if(F<1){return}if(M){O=this._item(E[M-100])}}if(this._fire(h?16:17,t,h?null:{value:O})&&t){return}this._ddOn=h?d():null;if(this._type===3){return this._doDP(h?1:0,O)}q=H._ddList;w=H._element;k=!I.listDropDownAsChild||w===H._field;if(!q){q=H._ddList=a("<div/>").addClass(H.css.dropDown+" "+H.css.list).scroll(function(){H._lazy()});q[0]._id=99;H._ddSel=-1;H._ddLen=F;q.css({position:"absolute",visibility:"hidden"});if((P=I.listWidth)<5){if((P=w.outerWidth())<5){P=100}}if(k){H._ddParent=J=I.theme?a("<span/>").addClass(I.theme).css("position","absolute").append(q):q;J.css({left:"0px",top:"0px"}).appendTo(a("body"));q.bind(H._mEvts)}else{H._ddParent=J=q.prependTo(w)}l=q.css("borderRightColor");p=Math.max(1,I.listColumns);L=H._rows=Math.ceil(F/p);r=q.outerWidth()-q.width();P=Math.ceil((P-r)/p-1);H._listLazy=[];for(n=0;n<p;n++){for(K=0;K<L;K++){if(++D>=F){break}m='<div style="width:'+P+"px;position:absolute;white-space:nowrap;overflow:hidden;";O=H._item(E[D]);if(typeof O!=="string"){if(H._type>=4&&typeof O==="number"){O=H._toTxtNum(O)}else{if(O&&H._type===2&&O.getMonth){O=H._toTxt(O)}else{O=g(O)}}}v=E[D];if(v&&typeof v.getHtml==="function"){v=v.getHtml()||O}else{v=O}if(D>0){m+="height:"+z+"px;left:"+(n*Q)+"px;top:"+K*B+"px;"}if(n+1<p){m+="border-right-color:"+l}m+='" title="'+H._item(E[D])+'" _id="'+(D+100)+'" class="'+H.css.listItem;if(n+1<p){m+=" "+H.css.listItemColumnBorder}m+='">'+((v==="")?"&nbsp;":v)+"</div>";if(D===0||D+1===F){m=a(m).appendTo(q);m[0]._id=D+100}else{H._listLazy[D]=m}if(D===0){if((z=m.height())<5){z=18}if((r=m.outerWidth()-m.width())>0){P-=r;m.css("width",P)}H._ddWidth=(Q=m.outerWidth()+1)*p;H._ddHeight=(H._ddHeight0=B=m.outerHeight())*L;H._fixBC(m,q);G=Math.max(0,I.listMaxHeight);if(G>0&&H._ddHeight>G){H._ddHeight=G;G=Math.ceil(16/p);m.css("width",P-=G);Q-=G}else{G=0}q.css("overflow",(G>0)?"auto":"hidden");m.css({height:z,left:n*Q,top:K*B})}}}H._page=Math.max(2,Math.floor(Math.min(H._ddHeight/z),F/3)-1)}if(M){if(!H._listSelect(M-100)){H._set_val(O=this._item(E[M-100]));H._fire(12)}}if(!h){H._lastY=q[0].scrollTop}else{if(H._lastY){q[0].scrollTop=H._lastY}}H._listSelect(null,1);O=h?I.animationShowDuration:I.animationHideDuration;if(!O||(typeof O==="number"&&O<5)){O=null}else{u=h?I.animationShowEffect:I.animationHideEffect;if(!a.effects||!a.effects[u]){if(!h&&typeof O!=="number"){O=450}u=null}}A=(O&&!u)?0:H._ddHeight;x=function(){if(h){q.css("filter","");if(!M&&H._lastY){q[0].scrollTop=H._lastY}else{H._listSelect()}if(!H._ddFixW&&(D=q[0].scrollWidth-q[0].clientWidth)>0&&D&&D<4){q.css("width",H._ddWidth+=(H._ddFixW=D+1))}H._touch()}else{q.css({display:"none",visibility:"hidden"})}};if(h){this._lazy();if(H._fcs<1){H.setFocus()}C=999;j=document.body;v=document.documentElement;if((D=window.innerHeight)>50&&D){C=D}else{if((D=v.clientHeight)>50&&D){C=D}else{if((D=j.clientHeight)>50&&D){C=D}}}S=Math.max(j.scrollTop,v.scrollTop);v=H._swap?H._field:w;R=v.offset();H._xy=k?{x:R.left,y:R.top}:null;R.h=v[0].offsetHeight;N=R.top+R.h+H._ddHeight-S-C;if(N>0&&S-R.top+H._ddHeight<N){N=H._ddHeight+2;if(R.top-N<S){N=Math.max(R.top-S,2)}R.top+=(R.h=-N);A=H._ddHeight;w.addClass(H.css.noTopCorners);q.addClass(H.css.noBottomCorners)}else{R.top+=R.h;w.addClass(H.css.noBottomCorners);q.addClass(H.css.noTopCorners)}q.css({opacity:(O&&!u)?0:1,height:A,width:Math.floor(H._ddWidth/((O&&!u)?2:1)),display:"",visibility:"visible"});if(k){if(H._swap){R.left-=H._leftShift()}R.left-=c(w.css("borderLeftWidth"));J.css({left:R.left,top:R.top});H._xy.i=setInterval(function(){H._xyCheck()},300)}else{D=H._left?"Right":"Left";J.css("margin"+D,-c(w.css("border"+D+"Width"))+"px");J.css("marginTop",R.h);N=J.offset();if((N=N.left-R.left)>30&&N<w[0].offsetWidth+10){J.css("marginLeft",-N+"px")}}if(!O){x()}else{if(u){q.show(u,{},O,x)}else{q.animate({opacity:1,height:H._ddHeight,width:H._ddWidth},O,null,x)}}}else{H._xyCheck(true);w.removeClass(H.css.noTopCorners).removeClass(H.css.noBottomCorners);q.removeClass(H.css.noBottomCorners).removeClass(H.css.noTopCorners);if(!O){x()}else{if(u){q.hide(u,{},O,x)}else{q.animate({opacity:0.6},Math.floor(O*0.34)).animate({opacity:0,height:A,width:Math.floor(H._ddWidth/2)},Math.floor(O*0.66),null,x)}}}return true},_lazy:function(l){var m,o,h=Math.max(1,this.options.listColumns),n=this._listLazy,k=this._ddOn?this._ddList:null;if(!k){return}if(l){if(n[l]){a(n[l]).appendTo(k)[0]._id=l+100;delete n[l]}return}m=Math.floor(k[0].scrollTop/this._ddHeight0);while(h-->0){for(l=0;l<this._page+8;l++){if(n[o=this._rows*h+m+l]){a(n[o]).appendTo(k)[0]._id=o+100;delete n[o]}}}},_listCss:function(j,k,i,h){j=a(j.children("[_id="+k+"]"));if(h){j.addClass(i)}else{j.removeClass(i)}},_listSelect:function(j,l){var p,m,n,h=null,i=(l!==2&&(l||this._ddOn))?this._ddList:null,k=this.options;if(!k.listItems){return}if(!b(j)&&this._listID!==j){if(this._fire(18,null,h={index:j,oldIndex:this._listID,item:k.listItems[j]})){return 1}this._listID=j}j=this._listID;if(i){if(l&&j<0){if(!b(l=this._findItem(this.text(),-1))&&j!==l.id){if(this._fire(18,null,h={index:l.id,oldIndex:j,item:k.listItems[l.id]})){return 1}this._listID=j=l.id}}n=this._ddSel;if(n!==j){this._lazy(j);this._listCss(i,n+100,this.css.listItemSelected);this._listCss(i,(n=this._ddSel=j)+100,this.css.listItemSelected,1)}if(n>=0){p=(n%this._rows)*this._ddHeight0;m=i[0].scrollTop;if(p>m){p+=this._ddHeight0-this._ddHeight;if(p<m){p=-9}}if(p!==-9){if(a.browser.safari&&p>20&&i[0].scrollTop===p&&!l){i[0].scrollTop=p-1}i[0].scrollTop=p}}}if(h){this._fire(19,null,h)}},_listKey:function(j,n){var l,p,h=this._ddOn?this._ddList:null,m=this._listID,o=a.ui.keyCode;if(!h){return}if(n===o.ENTER||n===o.SPACE||n===o.ESCAPE){this._doDrop(0,j,(n===o.ESCAPE)?null:m+100);return true}if(n<33||n>40){return}p=this._ddLen-1;if((l=m)<0){l=-1000}if(n===o.DOWN){l++}else{if(n===o.UP){l--}else{if(n===o.PAGE_DOWN){l+=this._page}else{if(n===o.PAGE_UP){l-=this._page}else{if(n===o.HOME){l=0}else{if(n===o.END){l=p}else{if(n===o.RIGHT){if((l+=this._rows)>p){l=m}}else{if(n===o.LEFT){if((l-=this._rows)<0){l=m}}else{return}}}}}}}}this._listSelect(Math.max(0,Math.min(l,p)));return true},_listChange:function(p,l,h){var o,k,n,m=this.options.listItems;o=m?m.length:0;n=k=p?p.length:0;l=(b(l)||l<0)?-1:l;if(h<2){if(o<1){return this}if(h>0&&l<0){if(p===null){l=o-1}else{while(++l<o){if(m[l]===p){break}}}}if(l<0){m.length=0}else{if(l<o){m.splice(l,1)}}}else{if(!m){this.options.listItems=p}else{while(n-->0){if(l>=o||l<0){m.push(p[k-n-1])}else{if(l===0){m.unshift(p[n])}else{m.splice(l,0,p[n])}}}}}this._listRemove();return this},_listRemove:function(){if(this._ddList){this._touch(true);this._element.removeClass(this.css.noTopCorners).removeClass(this.css.noBottomCorners);this._ddList.unbind();this._ddParent.remove();this._ddOn=this._ddList=this._ddParent=this._listLazy=null;this._listID=-1}},_initValidator:function(h){var j=this._validator,i=this.options,k=i.validatorOptions;if(h||!k||!this.element.igValidator){if(j){j.destroy();delete this._validator}return}k.ctl=this;k.required=i.required=i.required||k.required;this._field.igValidator(k)},_doError:function(i,h,j){var k=this._validator;if(k){if(!b(j)){return k._doError(j,null,i)!==1}else{if(i){k._evt(h,null,i===2);if(k._lbl){k._lbl._old={t:d(),val:this._val(),sel0:this._sel0,sel1:this._sel1,lastTxt:this._lastText,last:this._last,txt:this._text}}}else{k.hide(1)}}}},_doScrl:function(l,q){var h,i,m=a.browser.mozilla&&!this._dp,r=l.clientWidth,o=l.scrollWidth,n=q.length,k=false,p=this._sel0;if(this._tr!==1||n<4){return}h=o/n*1.1;n-=p;if(this._ta){if(l.clientHeight+2>(o=l.scrollHeight)){return}q=q.split("\n");if(n*15<r&&(m||q[q.length-1].length*15>r)){l.scrollTop=o;return}if(!m){return}}else{if(p*15<r){return}}if(!m){if(o>r+2){if(n*h*1.3<r){l.scrollLeft=o}else{if(p*h>r+l.scrollLeft){l.scrollLeft=Math.floor(p*h-r-3)}}}return}if(this._bad>2){return}this._scrl=1;try{h=l.maxLength;i=this._mask;if(h>0){l.maxLength=Math.max(h,i?i.length:0)+2}i=document.createEvent("KeyboardEvent");i.initKeyEvent("keypress",!k,!k,null,k,k,k,k,0,32);l.dispatchEvent(i);i=document.createEvent("KeyboardEvent");i.initKeyEvent("keypress",!k,!k,null,k,k,k,k,8,0);l.dispatchEvent(i);if(h>0){l.maxLength=h}}catch(j){}delete this._scrl},_onEvt:function(h,n){var l,m,j=this._field,k=this;j=j?j[0]:null;if(!j||k._scrl){return}k._evt=h;if(n<11){k._doEvt(h,n,j);delete k._evt}else{l=j.value;try{if(k._nullT&&h&&h.type==="drop"&&!b(m=h.originalEvent.dataTransfer)){m=m.getData("Text")}}catch(i){m=null}k._pasting=1;setTimeout(function(){if(!m){if(!k._field){return}m=j.value}if(m&&l!==m){k.paste(m,1)}delete k._pasting},0)}},_doEvt:function(h,i,l){var y,m,r,s,w,u,t,x=null,n=0,p=this,q=this.options;if(p._noWidth){p._fixWidth()}if(!h||q.disabled){return}if(i===10){x=h.wheelDelta||h.detail;if(x){f(h);p._spin((x>0)?q.spinDelta:-q.spinDelta)}return}y=t=h.target;while(y&&n++<5&&b(x=y._id)){y=y.parentNode}if(i===7){p._hover=p._mouseDown=0;p._fixCss();p._fire(i,h,x);return}if(!x){return}if(i===6){if(x>0&&!t.unselectable){t.unselectable="on"}y=l.value;if(y===p._lastText||p._pasting){y=null}if(!p._fcs&&y&&p._nullT){if(y!==q.nullText){p._fixNull()}y=null}if(y){p.paste(y,1)}}if(x>4&&x<9){x-=4}if(i===0&&p._fcs===0){p._onEvt({target:t,type:"focus"},8)}if(b(p._evt0Spin1)&&!p._box){try{if(!(a.browser.msie&&!p._ta)&&!b(l.selectionStart)){p._tr=1}}catch(j){}if(p._tr!==1){p._tr=l.createTextRange?l.createTextRange():null}p._bad=b(p._tr)?1:0}p._evt0Spin1=0;if(i===5&&p._fcs===2&&h.button===1){p.getSelectedText()}u=d();if(i<3){p._key=n=h.keyCode||h.which||0;p._time=u}if(i!==1&&i<8){if(p._fire(i,h,x)){if(i<4){f(h)}return}}if(i<3){if(i===0&&(p._fcs===2||q.dropDownOnReadOnly)&&p._dropTrigger(h,n)){return}if(p._fcs===1&&(h.shiftKey||i===1||!(q.spinOnReadOnly||(q.dropDownOnReadOnly&&p._ddOn))||n<9||n>40)){return}if(i===2&&p._k0===0&&n>0&&n!==86&&p._text!==p._val()){l.value=p._text;return}}if(i===3&&x>0){if(x===99){p._ddmd=u}f(h)}if(i===3&&p._mouseDown!==x){if(x>1&&x<4){p._stopTimer(1);if(!q.readOnly||q.spinOnReadOnly){w=(x===2)?q.spinDelta:-q.spinDelta;if(p._fcs<1&&q.focusOnSpin){p._evt0Spin1=1;p.setFocus()}p._spin(w);r=s=5;p._spinField=-1;p._timer=setInterval(function(){if(p._mouseDown<2){return p._stopTimer(1)}if(--r<1){p._spin(w);r=(--s>8)?--s:s}},60)}}p._hover=p._mouseDown=x;p._fixCss()}if((i===5||i===6)&&p._hover!==x){p._hover=x;p._fixCss()}if(i===4&&p._mouseDown){if((x===1||x===4)&&x===p._mouseDown){if(!p._fire(15,h)){if(x===4){p._onEvt(null,11);p._set_val(null);p.select(0)}else{p._dropTrigger(h,-2)}}}if(x>99){p._doDrop(0,h,x)}p._mouseDown=0;p._fixCss()}if(x>0){return}m=p._focTime;if(i===4){if(m&&m+500>u){p._select()}p._focTime=0}if(i<3){p._doKey0(h,i)}if(!p._field){return}y=p._val();if(i===2){p._last=y;if(p._key===13&&a.browser.mozilla&&p._text!==y){p.text(y);p._fire(12,h);p._update()}}if(i===1&&p._keyMod){delete p._keyMod;p._doScrl(l,y)}if(i>=8){if(p._bad>2){p._bad=2}p._spinField=-1;m=(i===8);if(m===(p._fcs>0)){return}if(!m&&u-p._ddmd<500){return p.setFocus(-1)}p._noPaste=0;if(!m&&p._lastText!==y){p.paste(y,1)}if(!m&&p._type<2&&!y&&!q.nullable){y=p._old||(q.listItems?q.listItems[0]:"");if(y){p._set_val(y);y=p._text=p._focusTxt(false)}else{y=""}}p._fcs=m?(q.readOnly?1:2):0;x=a.ui.igEditor._keepFoc;if(x){if(x!==p){return}if(!m){a.ui.igEditor._keepFoc=null}}p._hadFocus=!m;x=p._validator;if(m){p._k0=0;if(p._bad>1){p._bad=0}if(!q.readOnly){if(p._nullT){y=p._last=p._text=l.value=""}p._nullT=null;x=(x&&x._lbl)?x._lbl._old:null;if(x&&x.t+200>d()){l.value=p._text=x.txt;p._lastText=x.lastTxt;p._last=x.last;p.select(x.sel0,x.sel1)}else{if(y!==p._text){p.getSelectedText();p.paste(y)}p._lastText=p._last=p._text=p._focusTxt(m,h)}}p._focTime=u;p._dropTrigger(h,-1)}else{if(x){p._doError(2,h);setTimeout(function(){if(!p._fcs&&!p._doInvalid(h,9)){p._doError()}},100)}p._doDrop(0,h);y=p._matchList(y,-1);p._canRedo=null;if(!q.readOnly){if(p._last!==y||p._bad!==0){x=p._fix;p._fix=0;p._fcs=2;p.text(y);p._fcs=0;p._fix=x}p._update()}}p._repaint();p._fixCss();if(m&&this._prop(13)<2){p.select(this._prop(13)*10000);p._select()}p._hadFocus=false;if(m&&p._focSpin){p._spin(p._focSpin)}p._focSpin=null;p._fire(i,h,-1);p._lastText=p._val();return}if(!(i>3&&p._k0===0)&&!p._nullT&&y!==p._text){p._text=y;p._fire(12,h)}},_fire:function(n,k,i,h){var m,l=this.events,j=(n===13||n>16)?i:{};for(m in l){if(l.hasOwnProperty(m)&&l[m]===n){break}}if(n===14){j.delta=i;j.value=this._instant(1,null,1)}if(n===12){if((j.oldText=this._lastText)===(i=this._val())){return}this._doError(1,k);this._doClear(i);j.text=this._lastText=this._text=i;if(this._fcs<2&&this._evt0Spin1!==1){this._update()}this._doDP(2);if(this._type>3){this._fixCss()}}if(n<3){j.key=this._key}else{if(n<8){j.elementType=(i===-1)?"field":((i===1||i===5)?"button":((i===2||i===6)?"spinUpper":((i===3||i===7)?"spinLower":((i===99)?"dropDown":((i>99)?"item"+(i-100):"")))));j.id=i}}if(n===10||n===11){j.value=i;j.oldValue=h}if(n===11&&this._fcs===2){this._update()}j.owner=this;if(!this._trigger(m,k||this._evt,j)){return true}if(n<3){this._key=j.key}if(n===10){this._val10=j.value}},_select:function(l){var k,i=this,h=this._field[0],j=this._prop(13);if(this._tr!==1||j>1){return}if(!l){setTimeout(function(){try{i._select(1)}catch(m){}},0);return}k=h.value.length;if(j===0){k=0}else{if(j<0){j=0}else{j=k}}if(j!==h.selectionStart||k!==h.selectionEnd){this.select(j,k)}},select:function(p,q,s){var o,n,l=0,m=0,r=this._tr,k=(this._fcs===2)?this._field[0]:null;if(!k||k.offsetWidth<2||this._box){return this}if(b(s)){s=k.value}else{q=p;if(k&&k.value!==s){this._keyMod=k.value=s}}n=s.length;if(b(q,1)){q=p;if(b(p,1)||p<0){p=0;q=n}}if(q>=n){q=n}else{if(q<p){q=p}}if(p>q){p=q}this._sel0=p;this._sel1=q;try{if(r===1){k.selectionStart=p;k.selectionEnd=q;return this}if(!r){if(p!==q){k.select()}return this}if(this._ta){o=q;while(o-->0){if(s.charCodeAt(o)===10){if(o<p){l++}m++}}p-=l;q-=m}q-=p;if(this._ta){r.moveToElementText(k)}else{r.move("textedit",-1)}r.move("character",p);if(q>0){r.moveEnd("character",q)}r.select()}catch(h){}return this},getSelectedText:function(){var l,m,q,p="",k=this._field[0],o=this._tr,n=(this._sel0=this._sel1=0);if(b(o)){return p}if(o===1){if((this._sel0=k.selectionStart)<(this._sel1=k.selectionEnd)){p=k.value.substring(this._sel0,this._sel1)}return p}try{m=document.selection.createRange();q=k.value;l=q.length;o=m.duplicate();if(this._ta){o.moveToElementText(k)}else{o.move("textedit",-1)}try{while(o.compareEndPoints("StartToStart",m)<0){o.moveStart("character",1);n++;if(this._ta&&q.charCodeAt(n)===10){n++}if(n>l){break}}}catch(h){}p=m.text}catch(j){}this._sel0=n;this._sel1=n+p.length;return p},getSelection:function(h){this.getSelectedText();return h?this._sel0:this._sel1},setFocus:function(h){var j=this;if(j._field){if(h===-1){try{j._field[0].focus()}catch(i){}}else{setTimeout(function(){if(j._fcs<1){j.setFocus(-1)}},h||0)}}return this},hasFocus:function(){return this._fcs>0},_jpn:function(h,i){if(i){if(h===12290||h===65294){return"."}if(h===12289){return","}}else{if(!this._sTxt){return h}}if(h>65295&&h<65306){h-=65248}else{if(h>1631&&h<1642){h-=1584}else{if(h>1775&&h<1786){h-=1728}else{return i?null:h}}}return i?String.fromCharCode(h):h},_dtt:function(){var m,i,j,h=this._oldAttr.title,l=this.options,k=l.inputName;if(k){i=l._vsFormat;if(b(m=this._getVal(1),this._type>3)){m=""}else{if(this._date){m=m.getFullYear()+"-"+(m.getMonth()+1)+"-"+m.getDate()+" "+m.getHours()+":"+m.getMinutes()+":"+m.getSeconds()+"."+m.getMilliseconds()}else{if(i&&this._type>3){m=m.toString().replace(".",i)}}}j=a('input[name="'+k+'"]');if(j[0]!==this.element[0]){if(j.length===0){j=a('<input type="hidden" name="'+k+'" />').appendTo(this._element.parent())}j.val(m)}}if(!h||h.indexOf("{0}")<0){return}if((m=this._val())===""){m=this.options.nullText}this._element[0].title=this._field[0].title=this._field[0].alt=h.replace("{0}",m)},_stopTimer:function(h){if(this._timer){clearInterval(this._timer)}delete this._timer;if(!h&&this._timer1){clearInterval(this._timer1);delete this._timer1}},_maskFlag:function(h,i){switch(h){case">":return -1;case"<":return -2;case"&":h=1;break;case"C":h=2;break;case"A":h=7;break;case"a":h=8;break;case"L":h=13;break;case"?":h=14;break;case"0":return 19;case"9":return 20;case"#":return 21;default:return 0}return h+i*2},_maskFilter:function(k,n,l,m){var h,j;if(l>=n.length){return m}h=n.charCodeAt(l);j=Math.floor((k-1)/6);n=n.charAt(l);if(h<22){return m}if((j===1||j===3)&&h>100){if((h=this._jpn(h))<100){n=String.fromCharCode(h)}}if(j===3){return((k===21&&(n==="-"||n==="+"))||(h>47&&h<58))?n:m}if(j===1||j===2){if(j===1&&h>47&&h<58){return n}if(h<256&&n.toUpperCase()===n.toLowerCase()){return m}}if((k=Math.floor((k-1)/2)%3)===0){return n}return(k===2)?n.toLowerCase():n.toUpperCase()},_getTxt:function(u,r,t,j){var k,m,h,l=this._selKey,n=this._mask,s="",p=!b(t),q=this.options;if(!p){t=(this._bad!==0&&this._fcs>1)?this._val():this._txt}if(p){p=this._type===1}if(b(t)||b(n)){return s}m=n.length;l=(this._fcs>1&&!j&&q.hideMaskOnFocus)?((l&&l<m)?l-1:-1):m;for(k=0;k<m;k++){if((h=n.charCodeAt(k))<22){if(k<t.length&&t.charCodeAt(k)>=22){s+=t.charAt(k);if(k>l){l=k}p=false}else{if(u%3===2||(u%3===1&&h%2===1)){s+=(h===21&&r==="")?q.padChar:r}}}else{if(u>=3){s+=n.charAt(k);if(k===l+1){if(this._selKey===k){this._selKey++}l++}}}}if(l++<m){s=s.substring(0,l)}return p?"":s},_setTxt:function(q,r,o){var h,k,m=0,l=-1,n=this._mask,p=this._mask;if(!b(q)){while(++l<n.length){if(r===1000+m){r=this._dataMode}if(m>=q.length){break}if((k=n.charCodeAt(l))<22){if(!b(h=this._maskFilter(n.charCodeAt(l),q,m))){p=p.substring(0,l)+h+p.substring(l+1)}m++}else{if(r>=3){m++}}}}if(o){return p}this._txt=p;this._text=this._focusTxt(this._fcs>1," ");this._repaint()},_setMask:function(m){var q,h,j,k=0,p=0,l="",o="",n=this._getTxt(0);for(j=0;j<m.length;j++){if((q=this._maskFlag(h=m.charAt(j),p))!==0){if(q<0){p=(p===-q)?0:-q;continue}l+=(h=String.fromCharCode(q));h=this._maskFilter(q,n,k++,h)}else{if(h==="\\"&&j+1<m.length&&this._maskFlag(m.charAt(j+1),0)!==0){l+=(h=m.charAt(++j))}else{l+=h}}o+=h}this._txt=o;this._mask=l},_getMask:function(h,o,k){var p,l,m=0,j=-1,n="";if(!o){o=""}if(k){o=o.replace("dddd","ddd").replace("ddd,","").replace("ddd ","").replace(" ddd","").replace("ddd","")}o=o.replace(/\x08/g," ").replace(/\x09/g," ");o=o.replace(/\\f/g,"\x01").replace(/\\d/g,"\x02").replace(/\\s/g,"\x03").replace(/\\m/g,"\x04").replace(/\\t/g,"\x05").replace(/\\H/g,"\x06").replace(/\\h/g,"\x07").replace(/\\M/g,"\x08").replace(/\\y/g,"\x09");o=o.replace("fff","24").replace("ff","23").replace("f","22");o=o.replace("dddd",k?"":"21").replace("ddd",k?"":"20").replace("dd","09").replace("d","08").replace("ss","19").replace("s","18").replace("mm","17").replace("m","16");o=o.replace("tt","15").replace("t","14").replace("HH","13").replace("H","12").replace("hh","11").replace("h","10");o=o.replace("MMMM",k?"MM":"07").replace("MMM",k?"MM":"06").replace("MM","05").replace("M","04").replace("yyyy","03").replace("yy","02").replace("y","01");o=o.replace(/\x01/g,"g").replace(/\x02/g,"d").replace(/\x03/g,"s").replace(/\x04/g,"m").replace(/\x05/g,"t").replace(/\x06/g,"H").replace(/\x07/g,"h").replace(/\x08/g,"M").replace(/\x09/g,"y");for(l=0;l<o.length;l++){p=o.charCodeAt(l);if(p<48||p>57){if(!k&&(j=o.charAt(l))==="\\"&&l+1<o.length){if((p=o.charAt(++l))==="\\"){continue}if(p==="0"||p==="9"){n+=j}n+=p}else{n+=o.charAt(l)}continue}j=(p-48)*10+o.charCodeAt(++l)-48;if(!k){h[m++]=j;n+="\x01";continue}h[m++]=j;if(j===14){n+="L"}else{if(j===15){n+="LL"}else{if(j===22){n+="0"}else{n+="00";if(j===3){n+="00"}while(j-->23){n+="0"}}}}}return n},getValueByMode:function(k,m,j){var h,l=this._type,i=this.options.emptyChar;k=this._mode(k,l);if(l===0){return this._val()}if(l>3){h=this._dataMode;this._dataMode=k;m=this.value();this._dataMode=h;return m}if(l===1){return this._getTxt(k,m?"":i,null,j)}h=(this._fcs<2)?(this._isNull?null:this._date):this._toDate(this._val(),true,m);return(k===0)?h:(h?this._toTxt(h,k===1,i):"")},_fieldVal:function(m,k,l,h){var r,p,n=(m%2)*2,q=this.options;if(m<4){r=k.getFullYear()+q.yearShift;if(m===3){n=4}else{r%=100;n=(m===2)?2:0}}else{if(m<8){this.d_s=2;r=k.getMonth()+1;if(m>5){m=this._optVal((m===6)?"monthNamesShort":"monthNames")[r-1];if(m.length>0){return m}}}else{if(m<10){r=k.getDate()}else{if(m<16){r=k.getHours();if(m>13){r=this._optVal((r<12)?"am":"pm");if((m-=13)===(n=r.length)){return r}if(n<m){r+=" "}return r.substring(0,m)}if(m<12){r%=12;if(r===0){r=12}}}else{if(m<18){r=k.getMinutes()}else{if(m<20){r=k.getSeconds()}else{if(m<22){return this._optVal((m===20)?"dayNamesShort":"dayNames")[k.getDay()]}else{r=k.getMilliseconds();p=n=m-21;while(p-->3){r*=10}while(p++<2){r=Math.floor(r/10)}}}}}}}}r=g(r);if(m<20||m>22){m=r.length;if(l){if(n===0){n=2}else{l=false}}if(n>0){if(n<m){r=r.substring(0,n)}else{while(m++<n){r=(l?h:"0")+r}}}}return r},_limits:function(l,j){var k,i=this._prop(10),h=this._prop(11);if(this._type>3){if(b(l,1)&&!this.options.nullable){l=this.options.nullValue;if(!l&&this._dataMode>2){l=0}}if(!b(l,1)){if(!b(i,1)&&l<=i){return j?h:i}if(!b(h,1)&&l>=h){return j?i:h}}return l}if(b(l)){return l}k=l.getTime();if(!b(i)){i=i.getTime()}if(!b(h)){h=h.getTime()}if(!b(i)&&(k<i||(j&&k===i))){l.setTime(j?h:i);return l}if(!b(h)&&(k>h||(j&&k===h))){l.setTime(j?i:h);return l}return null},_date7:function(j){var h;if(j.length<13){return null}j=j.replace(/[\. :]/g,"-").split("-");if((h=j.length)!==7){return null}while(h-->0){if((j[h]=c(j[h],-1))<0){return null}}return new Date(j[0],j[1]-1,j[2],j[3],j[4],j[5],j[6])},_toDate:function(O,w,F,u){var P,A,p,B,D,H=0,K=0,z=-1,E=-1,Q=-1,I=-1,r=-1,x=-2,G=-2,N=-2,J=-2,M=-1,k=false,C=null,l={},L=this.options,q=u?null:this._date7(O),t=(w&&u)?this._fields0(O):this._fields1(O,w);B=t.length;if(!q){while(++z<B){E++;P=t[z];A=w?this._field0IDs[z]:this._field1IDs[z];if(A<4){if(P>100&&P>L.yearShift){P-=L.yearShift}if((l.year=Q=P)<0){H++}else{K++;p=L.centuryThreshold;if(P<100){if(A<3&&p<0){p=29}if(p>=0){Q+=(P>p)?1900:2000}}}}else{if(A<8){if(P<1||P>12){H++}else{l.month=I=P;K++}}else{if(A<10){l.day=r=P;if(P<1||P>31){H++}else{K++}}else{if(A<14){if(P===24){P=0}if(A>11){M=-4}else{if(P===12){P=0}if(P>12){H++}}l.hours=x=P;if(P>23||P<0){H++}}else{if(A<16){E--;if(P>0){M++}continue}else{if(A<18){l.minutes=G=P;if(P>59||P<0){H++}}else{if(A<20){l.seconds=N=P;if(P>59||P<0){H++}}else{if(A<22){E--;continue}else{while(A++<24){P*=10}while(A-->25){P=Math.floor(P/10)}l.milliseconds=J=P;if(P>999||P<0){H++}}}}}}}}}if(P>=0){k=true}if(E<L.minNumberOfDateFields&&H>0){if(u&&k){D=this._optVal("dateFields",2);C="numberOfFields"}H+=9}}}if(M===0&&x>=0&&x<12){l.hours=(x+=12)}if(!q&&(!L.nullable||H<9)){if(K===3){q=new Date(Q,I-1,r);if(Q<100){q.setFullYear(Q)}}else{q=new Date();if(this._date){q.setTime(this._date.getTime())}if(r>0){q.setDate(10)}if(Q>=0){q.setFullYear(Q)}if(I>0){q.setMonth(I-1)}if(r>0){q.setDate(r)}}}if(u&&r>0&&q&&r!==q.getDate()){D=this._optVal("invalidDay",2);C="dayOfMonth"}r=L.useLastGoodDate?this._goodD:null;if(u&&!q&&!L.nullable){q=r;if(!q||!q.getTime){q=new Date()}else{D=this._optVal("required",2);C="null"}}if(q){if(x>-2){q.setHours((x<0)?0:x)}if(G>-2){q.setMinutes((G<0)?0:G)}if(N>-2){q.setSeconds((N<0)?0:N)}if(J>-2){q.setMilliseconds((J<0)?0:J)}if(F){if(b(q=this._limits(z=q))){q=z}else{if(u){if(!L.minValue){D=this._optVal("max",2).replace("{0}",this._toTxt(L.maxValue))}else{if(!L.maxValue){D=this._optVal("min",2).replace("{0}",this._toTxt(L.minValue))}else{D=this._optVal("range",2).replace("{0}",this._toTxt(L.minValue)).replace("{1}",this._toTxt(L.maxValue))}}C="limit"}}}}if(u){if(k&&!q&&O.length>0&&r){if(!C){D=this._optVal("date",2);C="invalid"}q=r}if(!k&&L.required){D=this._optVal("required",2);C="null"}l.value=q;if(C&&(O||!L.nullable)){if(L.reduceDayOfInvalidDate!==false&&q&&k&&q.getDate()<5&&l.day>27){q.setDate(0);l.value=q}l.text=O;l.reason=C;l.message=D;this._inv=l}}return q},_toTxt:function(j,m,r,t){var h,p,n=-1,l=0,s="",q=m?this._mask:this._mask1,o=m?this._field0IDs:this._field1IDs;if(b(j)){return m?this._getTxt(5,r,t?(this._txt=q):q):""}this.d_s=6;while(++n<q.length){h=q.charAt(n);if((p=q.charCodeAt(n))<22){s+=this._fieldVal(o[l++],j,m,h);if(m){while(n+1<q.length){if(q.charCodeAt(n+1)===p){n++}else{break}}}}else{s+=h}}if(!m){return s}if(t){this._txt=s}return this._getTxt(5,r,s)},_isPM:function(k,h){var j=this._optVal("pm").toUpperCase();return j.charAt(0)===k.charAt(h)&&(j.length<2||k.length<=h+1||j.charAt(1)===k.charAt(h+1))},_fields1:function(u,n){var t,s,r,q,o=-1,w=-1,h=0,l=[],p=n?this._field0IDs:this._field1IDs;q=p.length;while(++o<q){l[o]=-1}if(b(u)){return l}u=u.toUpperCase();o=-1;while(++o<u.length&&h<q){s=this._jpn(u.charCodeAt(o))-48;r=p[h];if(r===20||r===21){r=p[++h]}if(r===14||r===15){if(s>=0&&s<=9){w=-1;h++;o--;continue}if(this._isPM(u,o)){l[h++]=1;w=-1}}else{if(s>=0&&s<=9){if(w<0){w=s}else{w=w*10+s}}else{if(w>=0){l[h++]=w;w=-1}else{if(r===6||r===7){while(w-->-3){for(s=0;s<12;s++){t=this._optVal((r===6)?"monthNamesShort":"monthNames")[s];t=t.toUpperCase();if((r=t.length)<1){continue}if(w===-3){if(r<4){continue}t=t.substring(0,3)}if((r=u.indexOf(t)-1)>-2){if(r<0||u.charAt(r).toLowerCase()===u.charAt(r)){break}}}if(s<12){l[h++]=s+1;break}}}}}}}if(h<q){l[h]=w}return l},_fields0:function(s){var u,p,o=-1,m=-1,t=-1,h=-1,r=22,q=this._mask,l=[];if(!s){s=""}while(++m<q.length){o++;if((u=q.charCodeAt(m))>21&&r>21){continue}if(u>21){if(h>=0){l[h]=t}}else{if(r>21){t=-1;h++}if(o<s.length){if(u>18){p=this._jpn(s.charCodeAt(o))-48;if(p>=0&&p<=9){if(t<0){t=p}else{t=t*10+p}}else{if(m+1<q.length&&s.charAt(o)===q.charAt(m+1)){o--}}}else{if(r!==u&&this._isPM(s.toUpperCase(),o)){t=1}}}}r=u}l[h]=t;return l},_curField:function(m,k){var j,o,l=22,h=this._n0=this._n1=-1;for(j=0;j<k.length;j++){if(((o=k.charCodeAt(j))>21)===(l>21)){continue}if(o>21){if(j>=m){break}}else{this._n0=j;h++}l=o}if(this._n0>=0){this._n1=j}if(b(h=this._field0IDs[h])){return -1}if(h<8){return(h<4)?0:1}if(h<20){return Math.floor((h-4)/2)}return(h>21)?8:-1},_maskKey:function(m,h,r,l,q,o){var j,p=0,t=-1;if(this._type<2){return -2}j=this._curField(q,o);if(q>=this._n1){if(r.charCodeAt(--q)>21){return this._maskKey(m,h,r,l,q+2,o)}}if(j<0){return -1}if(j===5){if(q<=this._n0){t=this._optVal("am");if(t.charAt(0).toUpperCase()!==(h=h.toUpperCase())){t=this._optVal("pm");if(t.charAt(0).toUpperCase()!==h){return -1}}if(this._n1===this._n0+1){t=t.charAt(0)}else{if((l=t.length)<2){t+=" "}else{if(l>2){t=t.substring(0,2)}}}this._txt=r.substring(0,this._n0)+t+r.substring(this._n1)}return this._n1}if(m<48||m>57){if(q===0||(m!==47&&m!==58&&(m<44||m>57))){return -1}if(o.charCodeAt(q-1)>=22||this._n1===l){return q}while(q<l){if(o.charCodeAt(q++)>=22){break}r=r.substring(0,q-1)+o.charAt(q-1)+r.substring(q)}this._txt=r;return q}m-=48;if(this._n0===q){t=r.charCodeAt(q+1)-48;if(j===2){if(m>3){p=1}else{if(m===3&&t>1){p=2}}}else{if(j===6||j===7){if(m>5){p=1}}else{if(j>0&&j<5){if(j===4){m--;t-=2}if(m>1){p=1}else{if(m===1&&t>2){p=2}}}}}}if(this._n0+1===q){t=r.charCodeAt(q-1)-48;if(j===2){if(t>3||(t===3&&m>1)){p=3}}else{if(j===6||j===7){if(t>6||(t===6&&m>0)){p=3}}else{if(j>0&&j<5){if(j===4){t--;m-=2}if(t>1||(t===1&&m>2)){p=3}}}}}if(p===1){r=r.substring(0,q)+o.charAt(q)+r.substring(q+1);q++}if(p===2){r=r.substring(0,q+1)+o.charAt(q+1)+r.substring(q+2)}if(p===3){while(++q<l){if(o.charCodeAt(q)<22){break}}if(q>=l){return -1}return this._maskKey(m+48,h,r,l,q,o)}this._txt=r.substring(0,q)+h+r.substring(q+1);return ++q},_add:function(o,n){var h,i,j,l,m=n.toString(),k=o.toString(),p=o+n;l=p.toString();if((h=k.indexOf("."))<1||(i=l.indexOf("."))<1){return p}if((j=m.indexOf("."))>0){j=m.length-j}if(l.length-i<=(h=Math.max(j,k.length-h))){return p}n=10;while(h-->2){n*=10}return Math.round(p*n)/n},spin:function(j){var m,n,k,h,l=this.options;if(!this._spinList(j)){return this}if(this._type<2){return this}if(this._type>3){m=this._toNum(this._val())||0;m=this._add(m,j);j=l.maxLength;if(!j||j<1||m.toString().length<=j){this._set_val(m,this._fcs)}return this}k=this._spinField;h=new Date();h.setTime(this._date.getTime());if(k<0||k>8){if(this._fcs===2){this.getSelectedText();k=this._curField(this._sel0,this._mask);if(b(h=this._toDate(this._val(),true,true))){h=new Date()}this._spinField=k}else{this._spinField=k=this.d_s}}if(k===5){j=(j>0)?12:-12}n=l.spin1Field;switch(k){case 0:h.setFullYear(j+=h.getFullYear());if(n&&j!==h.getFullYear()){k=-1}break;case 1:h.setMonth(j+=h.getMonth());if(n&&j!==h.getMonth()){k=-1}break;case 2:h.setDate(j+=h.getDate());if(n&&j!==h.getDate()){k=-1}break;case 3:case 4:case 5:k=h.getDate();h.setHours(j+=h.getHours());if(n&&k!==h.getDate()){k=-1}break;case 6:h.setMinutes(j+=h.getMinutes());if(n&&j!==h.getMinutes()){k=-1}break;case 7:h.setSeconds(j+=h.getSeconds());if(n&&j!==h.getSeconds()){k=-1}break;case 8:for(k=this._n1-this._n0;k<3;k++){j*=10}h.setMilliseconds(j+=h.getMilliseconds());if(n&&j!==h.getMilliseconds()){k=-1}break}if(k<0){return this}if(!b(j=this._limits(h))){h=j}this._text=this._toTxt(h,this._fcs===2,l.promptChar,true);this._date=h;this._isNull=false;this._repaint();this.select(this._sel0);if(this._fcs===2){this._last=this._val()}return this},_mode:function(h,j){var i;if(!h||j<1){h=b(h)?((j>3)?1:((j===1)?5:0)):0}else{if(typeof h!=="number"){h=h.toString().toLowerCase();if(j>3){i={text:-1,editmodetext:0,"double":1,"float":2,decimal:3,"long":4,ulong:5,"int":6,uint:7,"short":8,ushort:9,sbyte:10,"byte":11}}else{if(j>1){i={date:0,editmodetext:1,text:2}}else{if(j>0){i={rawtext:0,rawtextwithrequiredprompts:1,rawtextwithallprompts:2,rawtextwithliterals:3,rawtextwithrequiredpromptsandliterals:4,alltext:5}}}}if(b(h=i[h])){h=-2}}}return(h<-1)?((j>3)?1:0):h},_fixMode:function(i){var j,h,k,l,m,p=this._type,n=this.options,q=this._value;this._dataMode=m=this._mode(n.dataMode,p);this._maxLen=n.maxLength;if(p>0&&p<4){if(!n.promptChar){n.promptChar="_"}if(!n.padChar){n.padChar=" "}if(!n.emptyChar){n.emptyChar=" "}if(p===1&&i){p=n.inputMask;this._setMask(p||"CCCCCCCCCC")}}if(p<2){if(i===3){this._setVal(q)}return}if(p<4){h=n.dateInputFormat=n.dateInputFormat||"date";if(!n.yearShift){n.yearShift=0}if(b(n.centuryThreshold)){n.centuryThreshold=29}if(b(n.minNumberOfDateFields)){n.minNumberOfDateFields=3}k=this._optVal(h+"Pattern")||h;h=n.dateDisplayFormat||h;l=this._optVal(h+"Pattern")||h||k;k=this._getMask(this._field0IDs=[],k,1);this._mask1=this._getMask(this._field1IDs=[],l);if(i===1){this._date=new Date();this._isNull=false}this._spinField=-1;this.d_s=10;this._setMask(k);if(i!==1&&!this._isNull){this._setVal(this._date,1)}return}if(m>3&&this._maxLen<1){j=3;if(m<6){j=19}else{if(m<8){j=10}else{if(m<10){j=5}}}this._field[0].maxLength=this._maxLen=j+(m+1)%2}if(i===3){this._setVal(q,1)}if(!i&&(q||q===0)){this._setVal(q/this._prop(7))}},_toNum:function(q,k,h){var r,m=null,l=null,i,p=this.options,n=q,j=0;if(typeof q!=="number"){q=g(q);j=q.length;n=parseFloat(this._txtAsNum(q))}if(isNaN(n)){n=null}else{if(!isFinite(n)){n=(n===Number.NEGATIVE_INFINITY)?-Number.MAX_VALUE:Number.MAX_VALUE}}r=k?this._limits(n):n;if(h&&(r!==n||(b(r,1)&&j>0))){h=b(n,1)?((j===0)?"null":"format"):"limit";if(b(n,1)){if(j===0){h="null";i=this._optVal("required",2)}else{h="format";i=this._optVal("number",2)}}else{h="limit";k=null;if(b(m=p.minValue,1)){if(!b(m=this._prop(10),1)){if(m!==r){m=null}}}if(b(l=p.maxValue,1)){if(!b(l=this._prop(11),1)){if(l!==r){l=null}}}i=b(l,1)?this._optVal("min",2).replace("{0}",m.toString(10)):(b(m,1)?this._optVal("max",2).replace("{0}",l.toString(10)):this._optVal("range",2).replace("{0}",m.toString(10)).replace("{1}",l.toString(10)))}this._inv={value:r,text:q,reason:h,message:i}}return r},_txtAsNum:function(l,i,k){var h,j=l.length;if(!i){i=this._prop(4)}if(!k){k=this._prop(3)}while(j-->0){h=this._jpn(l.charCodeAt(j),true);if(h){l=l.replace(new RegExp(l.charAt(j),"g"),h)}}l=l.replace("(",(l.indexOf(k)<0)?"-":"").replace(this._prop(2),"").replace(new RegExp(k,"g"),"-");l=l.replace(i,"\x01");if((h=l.indexOf(i))>0){l=l.substring(0,h)}l=l.replace(/[^0-9\-eE\x01]/gm,"").replace("\x01",".");j=l.length;if((h=l.indexOf("-"))>=0){if(h+1<j&&(h=l.indexOf("-",h+1))>0){if(h>0&&l.toUpperCase().charAt(h-1)!=="E"){l=l.substring(0,h)}}j=l.length;if(l.toUpperCase().indexOf("E")<0&&h+1===j){l="-"+l.substring(0,j-1)}}return(l==="-"||l===".")?"":l},_ePow:function(j){var k=this.options.scientificFormat,i=k?k.length:0,h=i?k.charAt(0):null;return((h==="e"||h==="E")&&(i===1||(i===2&&k.charAt(1)==="+")))?(j?k:h):null},_toTxtNum:function(z,m,y,v,j,x){var p,o,n,h,t,k=this._ePow(),s=0,r=0,q=-1,w=z,u=this._prop(8);if(b(y)){if(b(z,1)){return""}w=z<0;if(w){z=-z}try{y=k?z.toString(10):z.toFixed(u)}catch(l){x=y=g(z)}return this._toTxtNum(w,m,y.toUpperCase(),b(v)?this._prop(3):v,b(j)?this._prop(4):j,x)}if(x){y=this._txtAsNum(y,j)}y=y.replace("+","");t=y.indexOf("E");if(t>0){k=k?this._ePow(!m&&y.charAt(t+1)!=="-")+y.substring(t+1):y.substring(t);y=y.substring(0,t)}else{k=""}t=y.length;if(b(w)){if(t===0){return m?y:""}w=this._isMinus(y.charCodeAt(0));if(w){y=y.substring(1);t--}}while(++q<t){h=y.charCodeAt(q);if(h<48||h>57){y=y.substring(0,q)+y.substring(q+1);t--;break}}while(q<t){if(y.charCodeAt(t-1)!==48){break}y=y.substring(0,--t)}t=q;if(u>0&&t<y.length){r=y.length-t;y=y.substring(0,t)+j+y.substring(t);t+=j.length+u}if(t<y.length){y=y.substring(0,t)}n=y.replace(/0/g,"");if(w&&(!n||n===j)){w=false}if((t=this._prop(9))>0){if(r===0){y+=j}while(t-->r){y+="0"}}if(m){y+=k;return w?(v+y):y}p=this._prop(6);n=o=(p.length>0)?p[0]:0;while(n>0&&--q>0){if(--n===0){y=y.substring(0,q)+this._prop(5)+y.substring(q);n=p[++s];if(b(n)||n<1){n=o}else{o=n}}}z=this._prop(w?1:0).replace("n",y+k);return z.replace("$",this._prop(2))},_prop:function(h){var i,n,l,k=this.options,m=this._type,j=this._dataMode;if(h===13){k=k.selectionOnFocus;return(k===-1||k==="select")?-1:((k===0||k==="start")?0:((k===1||k==="end")?1:2))}if(h===12){return(k.maxLength>0)?k.maxLength:this._maxLen}if(h===0){return k.positivePattern||((m===6)?this._optVal("percentPositivePattern"):((m===5)?this._optVal("currencyPositivePattern"):"n"))}if(h===1){return k.negativePattern||this._optVal((m===6)?"percentNegativePattern":((m===5)?"currencyNegativePattern":"numericNegativePattern"))}if(h===2){if(!b(n=k.symbol)){return n}return(m===6)?this._optVal("percentSymbol"):((m===5)?this._optVal("currencySymbol"):"")}if(h===3){return this._optVal("negativeSign")}if(h===4){return k.decimalSeparator||this._optVal((m===6)?"percentDecimalSeparator":((m===5)?"currencyDecimalSeparator":"numericDecimalSeparator"))}if(h===5){if(!b(n=k.groupSeparator)){return n}return this._optVal((m===6)?"percentGroupSeparator":((m===5)?"currencyGroupSeparator":"numericGroupSeparator"))}if(h===6){return k.groups||this._optVal((m===6)?"percentGroups":((m===5)?"currencyGroups":"numericGroups"))}if(h===7){if(!b(n=k.displayFactor)){return n}return(m===6)?this._optVal("percentDisplayFactor"):1}if(h===8){if(j>3){return 0}if(!b(n=k.maxDecimals)){return n}return this._optVal((m===6)?"percentMaxDecimals":((m===5)?"currencyMaxDecimals":"numericMaxDecimals"))}if(h===9){if(j>3){return 0}if(!b(n=k.minDecimals)){return n}return this._optVal((m===6)?"percentMinDecimals":((m===5)?"currencyMinDecimals":"numericMinDecimals"))}i=h===10;if(i||h===11){n=i?k.minValue:k.maxValue;if(m>3&&typeof n==="string"){n=parseFloat(n)}if(!b(n,1)||m<4||j<2||j===3||j>11){return n}if(j===2){return i?-3.40282347e+38:3.40282347e+38}n=127;l=(j%2)===0;if(!l&&i){return 0}if(j<6){n=9.22337203685478e+18}else{if(j<8){n=2147483647}else{if(j<10){n=32767}}}return l?(i?-(n+1):n):(n*2+1)}},_isMinus:function(h){return h===this._prop(3).charCodeAt(0)||h===45||(h===40&&this._prop(1).indexOf("(")>=0)||h===12540||h===65293||h===65288},destroy:function(){var p,o,k,h,l=this._element,n=this._field,m=this.element,j=this._buttons;k=l?l[0]:null;if(!n||!k){return this}this._stopTimer();this._doDP(3);this._initValidator(1);this._listRemove();n.unbind(this._evts);l.unbind(this._mEvts);h=(j&&j[0])?j[0][0]:null;if(h&&h.parentNode===k){k.removeChild(h)}h=(j&&j[1])?j[1][0].parentNode:null;if(h&&h.parentNode===k){k.removeChild(h)}if(n[0].parentNode===k){k.removeChild(n[0])}if(this._selElem){l.remove()}else{if(this._swap){p=k.parentNode;p.insertBefore(m[0],k);p.removeChild(k)}}p=this._oldCss;for(o in p){if(p.hasOwnProperty(o)){m.css(o,p[o])}}p=this._oldAttr;for(o in p){if(p.hasOwnProperty(o)){m[0][o]=p[o]}}m[0]._ig_oldCss=null;m=l=n=this._dp=this._buttons=this._field=this._element=null;this._evts=this._mEvts=this._oldAttr=this._oldCss=this._validator=null;a.Widget.prototype.destroy.apply(this,arguments);return this}});a.extend(a.ui.igEditor,{version:"12.1.20121.1010"});a.ui.igEditor.setDefaultCulture=function(h){a.ig.regional=a.ig.regional||{};a.ig.regional.defaults=a.extend(a.ig._regional,(typeof h==="string")?a.ig.regional[h]:h);if(h==="en"||h==="en-US"){h=""}if(a.datepicker&&a.datepicker.regional&&a.datepicker.regional[h]){a.datepicker.setDefaults(a.datepicker.regional[h])}};a.widget("ui.igTextEditor",a.ui.igEditor,{_create:function(){a.ui.igEditor.prototype._create.apply(this,[0])}});a.widget("ui.igMaskEditor",a.ui.igEditor,{options:{inputMask:"CCCCCCCCCC",promptChar:"_",padChar:" ",emptyChar:" ",dataMode:"alltext",hideMaskOnFocus:false},_create:function(){a.ui.igEditor.prototype._create.apply(this,[1])}});a.widget("ui.igDateEditor",a.ui.igEditor,{options:{spin1Field:false,minValue:null,maxValue:null,dateDisplayFormat:null,dateInputFormat:null,promptChar:"_",dataMode:"date",minNumberOfDateFields:3,useLastGoodDate:false,reduceDayOfInvalidDate:true,hideMaskOnFocus:false,centuryThreshold:29,yearShift:0},_create:function(){a.ui.igEditor.prototype._create.apply(this,[2])}});a.widget("ui.igDatePicker",a.ui.igDateEditor,{options:{button:"dropdown",datepickerOptions:null},_create:function(){a.ui.igEditor.prototype._create.apply(this,[3])}});a.widget("ui.igNumericEditor",a.ui.igEditor,{options:{positivePattern:null,negativePattern:null,symbol:null,negativeSign:null,decimalSeparator:null,groupSeparator:null,groups:null,displayFactor:null,maxDecimals:null,minDecimals:null,minValue:null,maxValue:null,scientificFormat:null,nullValue:null,dataMode:"double"},_create:function(){a.ui.igEditor.prototype._create.apply(this,[4])}});a.widget("ui.igCurrencyEditor",a.ui.igNumericEditor,{_create:function(){a.ui.igEditor.prototype._create.apply(this,[5])}});a.widget("ui.igPercentEditor",a.ui.igNumericEditor,{_create:function(){a.ui.igEditor.prototype._create.apply(this,[6])}})}(jQuery));